/*
 Nielsen SDK package v6.0.0.102 
 (c) 2017 The Nielsen Company 
*/
!function(e){function t(e){n&&console&&console.log&&console.log(e)}var a=!0,n=!1;try{t("BSDK check: Checking for ES5 array functions that BSDK uses");var r=new Array("test1","test2","test3");r.forEach(function(e){}),r.indexOf("test"),t("BSDK check: Array functionality passed"),t("BSDK check: Checking for ES5 JSON functions that BSDK uses");var o={fname:"Bob",lname:"Lee",address:{street:"123 test",city:"NY",state:"NY"}},i=JSON.stringify(o);o=JSON.parse(i),t("BSDK check: JSON object functionality passed"),t("BSDK check: Checking for image tag functionality");(new Image).src="",t("BSDK check: Image tag functionality passed"),t("BSDK check: Checking for window.addEventListener functionality"),e.addEventListener||(a=!1),t("BSDK check: window.addEventListener functionality passed"),t("BSDK check: Checking for postMessage functionality"),e.postMessage||(a=!1),t("BSDK check: postMessage functionality passed"),t("BSDK check: Checking for date functionality"),t("DATE "+Date.now()),t("BSDK check: date functionality passed");var s=/(ANTGalio\/3.3)|(ANTGalio\/3.4)/i;t("BSDK check: Checking device useragent"),e.navigator.userAgent.match(s)&&(a=!1,t("BSDK check: Unsupported useragent"))}catch(e){t("ERROR: "+e.message),a=!1}t("****** RESULTS: JS support check "+(a?"PASSED":"FAILED")+" ******");try{a?(!function(e,t){function a(e){return void 0!==s&&void 0!==d&&void 0!==l?s+"//cdn-gl"+d:"https://secure-gl.imrworldwide.com/"}function n(e){e&&e.hasOwnProperty("target")&&(O="true"===String(e.target).toLowerCase())}function r(){P=Date.now(),S=Math.ceil((P-h)/1e3)}function o(e){if(e&&e.hasOwnProperty("target")&&!isNaN(e.target))for(var t in g)!function(t){var a=g[t];if(void 0!==a&&a.hasOwnProperty("staticPage")&&a.staticPage.hasOwnProperty("evtParams")){"static"===a.staticPage.evtParams.param1.type&&a.ggPM("48",e.target,"","","")}}(t)}function i(i,f){function v(e){G.staticPage.hasOwnProperty("evtParams")&&G.ggPM("56",G.staticPage.evtParams.param1,G.staticPage.evtParams.param2,G.staticPage.evtParams.param3,G.staticPage.evtParams.param4)}function g(e,t){if("string"==typeof e&&(e={type:e}),e.target||(e.target=t),!e.type)throw new Error("Event object missing 'type' property.");if(D[e.type]instanceof Array)for(var a=D[e.type],n=0,r=a.length;n<r;n++)a[n].call(G,t)}function _(e){try{if(!e||!e.hasOwnProperty("cmsMap"))return[];var t=[];for(var a in e.cmsMap)e.cmsMap.hasOwnProperty(a)&&-1!==e.cmsMap[a].indexOf("nol_")&&t.push(e.cmsMap[a].replace(/[{(\[\])}]/g,""));return t}catch(e){}}function _(e){try{if(!e||!e.hasOwnProperty("cmsMap"))return[];var t=[];for(var a in e.cmsMap)e.cmsMap.hasOwnProperty(a)&&-1!==e.cmsMap[a].indexOf("nol_")&&t.push(e.cmsMap[a].replace(/[{(\[\])}]/g,""));return t}catch(e){}}function y(t){try{var a="Error in retrieveMeta";if(t&&t.hasOwnProperty("fData")&&t.hasOwnProperty("ad")&&t.hasOwnProperty("content")&&t.hasOwnProperty("plid")){var n=_({cmsMap:e.GLCFG.PLDPR.getCmsMap(t.plid)});for(var r in t.fData)if(t.fData.hasOwnProperty(r)){var o=t.fData[r][Object.keys(t.fData[r]).splice(-1,1)];if(void 0!==o)for(var i in o){var s=String(i);-1!==s.indexOf("nol_")&&-1===n.indexOf(s)||(t[r][i]=o[i])}}return t}return t&&t.hasOwnProperty("err")?(t.err=a+": Missing passedFdata, Ad, content or static properties",t):{err:a}}catch(e){}}function h(t){t&&(t.registerListener("ggPM",G),t._listeners&&(t._listeners.addListener("updateCmbStaticPage",G.handleUpdateOfStatic),t._listeners.addListener("removeCmbAssetId",G.removeAsset),t._listeners.addListener("tick",function(){r(),V=!1,g("globalTick",{time:P,seconds:S})}),t._listeners.addListener("dcrHeartbeat",o),t._listeners.addListener("flushQueue",G.emptyQueue),t._listeners.addListener("handleSessionReset",G.handleSessionReset),t._listeners.addListener("flushPauseEventQueue",G.flushPauseEventQueue),t._listeners.addListener("sendOptOutStatus",n)),e.GLCFG=t)}function T(e,t){I&&I.ggParams&&I.ggParams.nol_sdkDebug&&I.ggParams.nol_sdkDebug.toLowerCase().indexOf("debug","info","warn","true")>-1&&console&&console.log&&console.log("Nielsen Log: "+e,t||"")}function C(e){if(void 0!==e&&(!e||e.hasOwnProperty("url")&&0!==e.url.length)&&e.hasOwnProperty("retryDelay")&&e.hasOwnProperty("currRetry")&&e.hasOwnProperty("maxRetry")){({requestUrl:function(){var t=this;try{return++e.currRetry>e.maxRetry?t.logErr("maxRetry reached"):t.sendUrlRequest(e.url)}catch(e){t.logErr("Error in fireToUrl requestUrl: "+e)}},sendUrlRequest:function(a){var n=this;try{if(void 0===a)return;var r=new Image;r.onerror=function(a){t.setTimeout(function(){n.requestUrl()},e.retryDelay)},r.onload=function(e){},r.src=a+"&retry="+e.currRetry}catch(e){n.logErr("Error in fireToUrl sendUrlRequest: "+e)}},logErr:function(e){e&&t.console&&t.console.log&&console.log("Error: ",e)}}).requestUrl()}}function w(t){!V&&("blur"===t.type||"blur"!==t.type&&e.GLCFG.browser.hidden())&&(G.ggPM("flush",""),V=!0,T("Data flushed on "+t.type+" event"))}var k,I,D={},M=[],A={},B=String(Date.now())+Math.round(1e4*Math.random()),R,N=5,x=-1,F,V=!1,G=f||{};if(G.id=B,G.name=i,G.initialized=!1,G.staticPage={},G.modules={allModInit:!1},G.configLoaded=!1,G.apid="",G.sdkv=p,G.sdkvForConfig=b,G.useCachedConfig=void 0!==f&&null!==f,G.sessionId="",f)if(f.q){for(var U=null,j=0;j<f.q.length;j++)(U=f.q[j])&&U.length>0&&M.push({eventType:U[0],param1:U.length>1?U[1]:void 0,param2:U.length>2?U[2]:void 0,param3:U.length>3?U[3]:void 0,param4:U.length>4?U[4]:void 0});delete f.q}else f.getEventQue&&(M=f.getEventQue());var Q={_queueEventLog:!1,_eventLog:[],init:function(){try{var t=e.controllers.util.queryParam("nol_eventHookDelay");if(Q._queueEventLog=!1,t){var a=parseInt(t);"NaN"!==a.toString()&&(Q._queueEventLog=!0,setTimeout(function(){Q._queueEventLog=!1},1e3*(a<=20?a:20)))}}catch(e){Q._queueEventLog=!1}},trigger:function(t,a){try{if(a){var n=JSON.parse(JSON.stringify(a));n.name=t.name,n.sdkv=b,Q._queueEventLog?Q._eventLog.push(n):(Q._eventLog&&Q._eventLog.length>0&&(e.controllers.util.fireCustomEvent("NSDK_EventHook",Q._eventLog),Q._eventLog=[]),e.controllers.util.fireCustomEvent("NSDK_EventHook",[n]))}}catch(e){}}},z=function(e,a){return function(n,r){try{a.browserSafeAddEventListener({element:t,eventType:"NSDK_Initialized",func:function(t){try{t.detail.instanceName===e&&n(t.detail.instance)}catch(e){r&&r(e.message)}}})}catch(e){r&&r(e.message)}}}(G.name,e);return G.getOptOutStatus=function(){return O},G.getId=function(){return B},G.GetName=function(){return G.name},G.Initialized=function(e){if(void 0===e)return G.initialized;G.initialized=e},G.getPauseQueueCount=function(){return Object&&Object.keys?Object.keys(A).length:0},G.removeAsset=function(e){void 0!==e&&e.target.param1.hasOwnProperty("assetid")&&(G.staticPage={})},G.handleUpdateOfStatic=function(t){if(t&&t.target){var a=t.target.evtInfo;if(e.GLCFG&&e.GLCFG.PLDCR&&void 0!==a&&a.param1.hasOwnProperty("assetid")&&G.getId()===t.target.plid){var n=e.GLCFG.PLDCR.latestDcrTick();0!==Object.keys(G.staticPage).length&&G.staticPage.hasOwnProperty("id")&&G.staticPage.id===a.param1.assetid&&G.staticPage.hasOwnProperty("lastTimeStamp")?G.staticPage.lastTimeStamp=n:G.staticPage={id:a.param1.assetid,evtParams:a,startTimeStamp:n,lastTimeStamp:n}}}},G.addListener=function(e,t){t&&(void 0===D[e]&&(D[e]=[]),D[e].push(t))},G.removeListener=function(e,t){if(G._listeners[e]instanceof Array)for(var a=D[e],n=0,r=a.length;n<r;n++)if(a[n]===t){a.splice(n,1);break}},G.handleSessionReset=function(e){if(e&&e.target&&e.target.hasOwnProperty("plid")&&B===e.target.plid&&e.target.hasOwnProperty("passedFdata")&&e.target.passedFdata.hasOwnProperty("_dataArrObj")&&e.target.passedFdata._dataArrObj){var t={plid:e.target.plid,fData:e.target.passedFdata._dataArrObj,content:{},ad:{},err:0};if(0===y(t).err&&e.target.passedFdata.hasOwnProperty("_currVidType")){var a=e.target.passedFdata._currVidType,n=Object.keys(t.content).length>0,r=Object.keys(t.ad).length>0;(n||r)&&(G.ggPM("57","1","sessionReset","",""),n&&!A.hasOwnProperty("content")&&(A.content={evt:"pauseloadmeta",meta:t.content,plid:e.target.plid}))}}G._listeners&&G._listeners.fireEvent&&G._listeners.fireEvent("debug",{type:"debug",msg:"Fired handleSessionReset from ggcmb."})},G.flushPauseEventQueue=function(){if(!(Object.keys(A).length<=0)){if(G.modules.PLDPR){var e;for(e in A)g("ggPM",{evtInfo:{eventType:A[e].evt,param1:A[e].meta},id:B});A={}}G._listeners&&G._listeners.fireEvent&&G._listeners.fireEvent("debug",{type:"debug",msg:"Fired flushPauseEventQueue from ggcmb."})}},G.cloneObj=function(e){return e&&"object"==typeof e?JSON.parse(JSON.stringify(e)):e},G.ggPM=function(e,t,a,n,r){if(G.initialized&&void 0!==e&&null!==e&&""!==e){var o={};o.eventType=e,o.param1=G.cloneObj(t),o.param2=G.cloneObj(a),o.param3=G.cloneObj(n),o.param4=G.cloneObj(r),!G.modules.allModInit||2!=G.modules.PLCMB&&2!=G.modules.PLDPR?M.push(o):(G.emptyQueue(),g("ggPM",{evtInfo:o,id:B}),Q.trigger(G,o))}},G.getConfigParams=function(){return I},G.emptyQueue=function(){if(!(M.length<=0)&&G.modules.allModInit&&(G.modules.PLCMB||G.modules.PLDPR)){for(var e=0,t=M.length;e<t;e+=1)g("ggPM",{evtInfo:M[e],id:B}),Q.trigger(G,M[e]);M=[]}},G.getContainer=function(){return R},G.getClientConfig=function(){return e.configs?e.configs[G.apid]:null},G.ggInitialize=function(t,n,r,o,i,f){if(G.initialized)return E.Promise(function(e,t){e(G)});Q.init();var v,g,_,y="us",P="cdn-gl";if(R=f,I={ggParams:t,uid:r,oldFlashDetect:o,detectBrowser:i,nol_playerId:B},typeof t==typeof String()){for(v=e.loadXmlString("<vi>"+t+"</vi>"),g=v.firstChild.firstChild,_=0,t={};g&&void 0!==g&&_<20;)null!==g.firstChild&&(t[g.nodeName]=g.firstChild.nodeValue),g=g.nextSibling,_++;I.ggParams=t}I.ggParams.nol_sdkDebug=e.controllers.util.queryParam("nol_sdkDebug")||I.ggParams.nol_sdkDebug,G.Initialized(!0),p=(t.nsdkv?t.nsdkv.toString():"")||p,y=t.sfcode||y,m=s+(t.coreaddress?l+y:"//secure-"+y)+d,u=t.coreaddress?s+"//"+t.coreaddress+"/":a(t),b=t.sdkconfigver||b,G.apid=I.ggParams.apid,G.sdkv=p,G.sdkvForConfig=G.useCachedConfig&&G.sdkv&&3===G.sdkv.length?"bj."+G.sdkv[0]+"."+G.sdkv[1]+"."+G.sdkv[2]:b;var S=G.getClientConfig();return G.sessionId=e.GLCFG&&e.GLCFG.generateGUID?e.GLCFG.generateGUID():G.id,C({url:m+L+(S&&S.nol_GLOBALS&&S.nol_GLOBALS.nol_dfltAppid?S.nol_GLOBALS.nol_dfltAppid:I.ggParams.apid)+"&sessionId="+G.sessionId+"&C16=sdkv,"+G.sdkvForConfig,currRetry:-1,maxRetry:5,retryDelay:1e3}),G.useCachedConfig&&e.getLib("GLCFG")?(h(e.getLib("GLCFG")),e.GLCFG.loadChildren(G.sdkv),e.GLCFG&&e.GLCFG.browser.ready(function(){e.GLCFG.waitForLS(function(){e.GLCFG.PLDPR.initFromConfig(S,G.id,!0)})})):e.loadLib("GLCFG",u+"novms/js/2/configs/"+c,e,h),E.Promise(z)},G.isViewable=function(){return!1},e.browserSafeAddEventListener({element:t,eventType:"beforeunload",useCapture:!1,func:function(e){G&&G.staticPage&&v(G.staticPage)}}),e.GLCFG.browser.addEventListener({element:t,eventType:"blur",useCapture:!1,func:w}),e.GLCFG.browser.addEventListener({element:t,eventType:e.GLCFG.browser.visibilityEvent,useCapture:!1,func:w}),e.GLCFG.browser.addEventListener({element:t,eventType:"pagehide",useCapture:!1,func:w}),G}if(!e.isBuilt||!e.isBuilt()){var s=-1!==t.location.protocol.indexOf("https")?"https:":"http:",l="//secure-",d=".imrworldwide.com/",c="glcfg510.js",p="600",u=a(),m=s+"//secure-us.imrworldwide.com/",f="imrworldwide.com",v=864e5,g=e.getInstances?e.getInstances():{},_=1,y=5,h=0,P=0,S=0,T=!1,O=!1,L="cgi-bin/gn?prd=session&c9=devid,&c13=asid,",b="bj.6.0.0",C="6.0.0.8";Date.now=Date.now||function(){return+new Date};var E={Promise:function(e){try{var t=new Promise(function(e,t){});return new Promise(e)}catch(e){}return new function(e){var t=function(e){n&&n(e)},a=function(e){r&&r(e)},n=null,r=null;return{then:function(o,i){n=o,r=i,e(t,a)}}}(e)}};if(e.sdkvForConfig=function(){return b},e.isBuilt=function(){return T},e.getInstance=function(a,n){var r=void 0!==a&&("string"==typeof a||"object"==typeof a&&a.constructor===String)?a:"default";return g.hasOwnProperty(r)||(g[r]=n?i(r,e[r]||t[r]):i(r)),g[r]},e.setTotalNumAssetsAllowed=function(e){_=isNaN(e)?e:parseInt(e,10)},e.getAddress=function(){return u},e.getConfigAddress=function(){return m},e.getInstances=function(){return g},e.loadXmlString=function(e){var t=null;try{return t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e),t}catch(n){try{var a=new DOMParser;return t=a.parseFromString(e,"text/xml")}catch(e){}}return null},e.isNielsenTag=function(e){var t=!1;if(void 0!==e){var a=e.indexOf("?"),n=e.indexOf("imrworldwide.com");n>-1&&n<a&&(t=!0)}return t},e.getVersion=function(){return p},e.send=function(e){e&&t.console&&t.console.log&&console.log(e.parentNode)},e.browserSafeAddEventListener=function(e){void 0!==e.element&&(e.element.addEventListener?e.element.addEventListener(e.eventType,e.func,e.useCapture):e.element.attachEvent&&e.element.attachEvent("on"+e.eventType,e.func))},e.browserSafeRemoveEventListener=function(e){void 0!==e&&null!==e&&null!==e.element&&void 0!==e.element&&(e.element.removeEventListener?e.element.removeEventListener(e.eventType,e.func,e.useCapture):e.element.detachEvent&&e.element.detachEvent("on"+e.eventType,e.func))},e.controllers={util:function(e){return function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),a}if("function"==typeof t.CustomEvent)return!1;e.prototype=t.Event.prototype,t.CustomEvent=e}(),{fireCustomEvent:{fireCustomEvent:function(a,n,r){try{r=r||t,a&&r&&r.dispatchEvent(new CustomEvent(a,{detail:n}))}catch(t){e&&e._listeners&&e._listeners.fireEvent("error",{type:"error",msg:"Browser error attempting to call element.dispatchEvent()."})}}}.fireCustomEvent,queryParam:{queryParam:function(a){try{a=a.toString().toLowerCase();var n=t.location.search.substr(1).split("&"),r="";if(n.find)r=n.find(function(e){return 0===e.toLowerCase().indexOf(a+"=")});else for(var o=0,i=n.length;o<i;o++)if(0===n[o].toLowerCase().indexOf(a+"=")){r=n[o];break}if(r){var s=r.split("=");if(s&&s.length>1)return s[1]}}catch(t){e&&e._listeners&&e._listeners.fireEvent("error",{type:"error",msg:"Browser error attempting to retrieve query string parameter."})}return""}}.queryParam}}(e)},function(){var t={};e.loadLib=function(a,n,r,o){if(void 0!==a&&null!==a&&"string"==typeof a&&void 0!==n&&null!==n&&"string"==typeof n)if(t[a]){if(t[a].body)return void o(t[a].body(r));t[a].callbacks.push({func:o,arg:r})}else t[a]={callbacks:[]},t[a].callbacks.push({func:o,arg:r});else void 0!==n&&null!==n||e.initLib(a,r)},e.registerLib=function(a,n){try{if(t){t.hasOwnProperty(a)||e.initLib(a,e,n);var r=t[a];r.body=n;for(var o=r.callbacks.shift();o;)o.func(r.body(o.arg)),o=r.callbacks.shift()}}catch(e){}},e.initLib=function(e,a,n){if(t[e]||(t[e]={handle:null,callbacks:[]}),t[e].body=n,t[e].body){var r=t[e].body(a);return a[e]=r,void(t[e].handle=r)}},e.getLib=function(e){return t[e]?t[e].handle:null}}(),t.gg_nol_FlashCallBack){for(var w=0,k,I=t.gg_nol_FlashCallBack.length;w<I;w+=1)t.gg_nol_FlashCallBack[w].hasOwnProperty("callBack")&&(k=document.getElementById(t.gg_nol_FlashCallBack[w].swfId))&&k[t.gg_nol_FlashCallBack[w].callBack]();t.gg_nol_FlashCallBack=void 0}T||(T=!0,h=P=Date.now(),e.BUILDVERSION="6.0.0.8")}}(e.NOLBUNDLE=e.NOLBUNDLE||{},e),e.NOLBUNDLE.registerLib("GLCFG",function(t){function a(t,a){if(t&&a){var n=a.path;e.NOLBUNDLE.loadLib(t,n,f,function(){a.status=1})}}function n(e){try{if(!e.modules.allModInit){var t=!0;for(g in E)if(E.hasOwnProperty(g)&&C[e.sdkv].hasOwnProperty(g)&&!f[g]){if("PLLOG"!==g&&2!==e.modules[g]){t=!1;break}}else;t&&(e.modules.allModInit=!0,f._listeners.fireEvent("flushQueue"))}}catch(e){}}function r(e){if(e){var t,a;for(t in f.availModules)f.availModules.hasOwnProperty(t)&&1==e.init&&(e.modules[t]||(e[t]=new f.availModules[t].init(e),e.modules[t]=1));var r=e.getConfigParams().nol_playerId;f._players[r]=e,f._listeners.addListener("tick",function(){n(f._players[r])})}}function o(){void 0!==e.document.referrer&&e.document.referrer.length>0&&f.postMsgAvail&&e.parent.postMessage("nolInit",0===e.location.protocol.indexOf("http")?e.document.referrer:"*"),h<P?e.clearInterval(y):P+=1}function i(){if(!(this instanceof i))return new i;f._listeners={},this.addListener=function(e,t,a){var n=a||!1;void 0===f._listeners[e]&&(f._listeners[e]=[]),f._listeners[e].push({cb:t,remove:n})},this.fireEvent=function(e,t){if(e){var a,n,r;if("string"==typeof e&&(e={type:e}),e.target||(e.target=t),!e.type)throw new Error("Event object missing 'type' property.");if(f._listeners[e.type]instanceof Array){for(a=f._listeners[e.type],n=0,r=a.length;n<r;n++)a[n]&&a[n].cb.call(this,e);for(n=0;n<a.length;n++)a[n]&&a[n].remove&&(a.splice(n,1),n--)}}},this.removeListener=function(e,t){var a,n,r;if(f._listeners[e]instanceof Array)for(a=f._listeners[e],n=0,r=a.length;n<r;n++)if(a[n]&&a[n].cb===t){a[n].remove=!0;break}}}function s(e){var t;for(t in E)E.hasOwnProperty(t)&&C[e||b].hasOwnProperty(t)&&!f[t]&&a(t,E[t])}function l(e){e&&f._listeners.fireEvent(e.eventTrigger,e)}function d(){for(var e=0;e<f.onLSReady.length;e++)f.onLSReady[e]();f.onLSReady=[]}function c(t,a,n){try{a=a||1,f.gIframe||(f.gIframe=e.document.createElement("iframe"),f.gIframe.src=L+"novms/html/ls.html",f.gIframe.height=0,f.gIframe.width=0,f.gIframe.style.display="none",f.gIframe.id="lsframe",f.gIframe.onload=function(){p(),f.getEmmUrl(),m(),f.gIframeReady=!0,f.thirdPartyData.cookiesEnabled=navigator.cookieEnabled,n&&n(),f.browser.localStorageSupported()||(f.thirdPartyData.localStorageEnabled=!1,d())}),e&&e.document&&e.document.body?e.document.body.appendChild(f.gIframe):a<=15&&setTimeout(function(){f._listeners.fireEvent("debug",{type:"debug",msg:"document.body not ready - delaying to add ls.html"}),c(t,a++,n)},a<=1?0:300)}catch(t){e.console&&e.console.error&&e.console.error("Unable to register ls.html - "+t.message)}}function p(e){if(void 0!==f.gIframe&&f.postMsgAvail)return void 0===e?void f.lsController.store.get(k):void f.lsController.store.set(k,e)}function u(e){if(void 0!==f.gIframe&&f.postMsgAvail)return void 0===e?void f.lsController.store.get(emmUrlKey):void f.lsController.store.set(emmUrlKey,e)}function m(){f.gIframe.contentWindow.postMessage(JSON.stringify({key:optoutCookieKey,eventType:"get",storageType:"cookie"}),f.gIframe.src)}var f=t.GLCFG&&t.GLCFG.getBaseBuildVer?t.GLCFG:{},v,g,_,y=0,h=30,P=0,S=!0,T=864e5,O=e.NOLBUNDLE,L=O.getAddress(),b=O.getVersion();f.localStorageId=f.localStorageId||"-1",f.EMMURL=f.EMMURL||"",f.optoutCookie=f.optoutCookie||"",f.gotLSID=f.gotLSID||!1,f.gotEMMURL=f.gotEMMURL||!1,f.gotOptoutCookie=f.gotOptoutCookie||!1;var C={600:{PLDPR:600,PLDCR:600,PLLOG:600,CONFIG:300,BASEVER:"6.0.0",LSID:!0},"600_rc":{PLDPR:600,PLDCR:600,PLLOG:600,CONFIG:300,BASEVER:"6.0.0.rc",LSID:!0},601:{PLDPR:600,PLDCR:600,PLCMB:600,PLLOG:600,CONFIG:300,BASEVER:"6.0.1",LSID:!0}},E={PLDPR:{path:L+"novms/js/2/pldpr"+C[b].PLDPR+".js",status:0},PLDCR:{path:L+"novms/js/2/pldcr"+C[b].PLDCR+".js",status:0},PLCMB:{path:L+"novms/js/2/plcmb"+C[b].PLCMB+".js",status:0},PLLOG:{path:L+"novms/js/2/pllog"+C[b].PLLOG+".js",status:0}},w="6.0.0.8",k="nol_lsid";if(emmUrlKey="nol_emmURL",optoutCookieKey="OPT_OUT",f.gIframe=f.gIframe||f.getLS?f.getLS():null,f.gIframeReady=f.gIframeReady||!1,f.onLSReady=f.onLSReady||[],f.thirdPartyData=f.thirdPartyData||{cookiesEnabled:!0,localStorageEnabled:!0},f.postMsgAvail=f.postMsgAvail||"function"==typeof e.postMessage,f.availModules=f.availModules||{},f._players=f._players||{},f.id=f.id||"0",f.childGlobal=f.childGlobal||!!e&&e.top!==e.self,f.parentFound=f.parentFound||!1,f.CryptoJS=f.CryptoJS||function(e,t){var a={},n=a.lib={},r=function(){},o=n.Base={extend:function(e){r.prototype=this;var t=new r;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},i=n.WordArray=o.extend({init:function(e,a){e=this.words=e||[],this.sigBytes=a!=t?a:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,a=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var r=0;r<e;r++)t[n+r>>>2]|=(a[r>>>2]>>>24-r%4*8&255)<<24-(n+r)%4*8;else if(65535<a.length)for(r=0;r<e;r+=4)t[n+r>>>2]=a[r>>>2];else t.push.apply(t,a);return this.sigBytes+=e,this},clamp:function(){var t=this.words,a=this.sigBytes;t[a>>>2]&=4294967295<<32-a%4*8,t.length=e.ceil(a/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var a=[],n=0;n<t;n+=4)a.push(4294967296*e.random()|0);return new i.init(a,t)}}),s=a.enc={},l=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var a=[],n=0;n<e;n++){var r=t[n>>>2]>>>24-n%4*8&255;a.push((r>>>4).toString(16)),a.push((15&r).toString(16))}return a.join("")},parse:function(e){for(var t=e.length,a=[],n=0;n<t;n+=2)a[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new i.init(a,t/2)}},d=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var a=[],n=0;n<e;n++)a.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return a.join("")},parse:function(e){for(var t=e.length,a=[],n=0;n<t;n++)a[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new i.init(a,t)}},c=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},p=n.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new i.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var a=this._data,n=a.words,r=a.sigBytes,o=this.blockSize,s=r/(4*o),s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0);if(t=s*o,r=e.min(4*t,r),t){for(var l=0;l<t;l+=o)this._doProcessBlock(n,l);l=n.splice(0,t),a.sigBytes-=r}return new i.init(l,r)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=p.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,a){return new e.init(a).finalize(t)}},_createHmacHelper:function(e){return function(t,a){return new u.HMAC.init(e,a).finalize(t)}}});var u=a.algo={};return a}(Math),f.checkUserAgent=function(t){var a=e?e.navigator.userAgent.toLowerCase():null;return void 0!==t&&t.length>0&&(a=-1!==a.search(t)),a},f.userAgent=function(e){var t=null,a="";try{t=e&&e.navigator?e.navigator.userAgent:null,a=t?t.toLowerCase():""}catch(e){}return{get:function(){return t},isFB:function(){return-1!==a.search(/(?=.*\[fb).*/)},isChrome:function(){return-1!==a.search(/(?=.*chrome).*/)||-1!==a.search(/(?=.*crios).*/)},isMac:function(){return-1!==a.search(/(?=.*macintosh).*/)},isIOS:function(){return-1!==a.search(/(?=.*iphone).*/)||-1!==a.search(/(?=.*ipad).*/)},iosVersion:function(){var e=new RegExp(/os\s([0-9_]*?)\s/gi),t=e.exec(a),n=t&&t.length>1?t[1].split("_"):[];return{version:t&&t.length>0?t[1].replace(/_/gi,"."):"",major:n&&n.length>0?parseInt(n[0]):0,minor:n&&n.length>1?parseInt(n[1]):0,patch:n&&n.length>2?parseInt(n[2]):0}},isAndroid:function(){return-1!==a.search(/(?=.*android).*/)},androidVersion:function(){var e=new RegExp(/android (.*?);/gi),t=e.exec(a),n=t&&t.length>1?t[1].split("."):[];return{version:t&&t.length>0?t[1]:"",major:n&&n.length>0?parseInt(n[0]):0,minor:n&&n.length>1?parseInt(n[1]):0,patch:n&&n.length>2?parseInt(n[2]):0}}}}(e),f.getBaseBuildVer=function(){if(C[b].hasOwnProperty("BASEVER"))return C[b].BASEVER+"."},f.getConfigVer=function(){if(C[b].hasOwnProperty("CONFIG"))return C[b].CONFIG},f.getIfLsidShouldSend=function(){if(C[b].hasOwnProperty("LSID"))return C[b].LSID},f.globalHasFocus=function(){if(C[b].hasOwnProperty("FORCEFOCUS"))return C[b].FORCEFOCUS;if(e.top!=e.self)return!1;var t=!1;try{t=e.top.document.hasFocus()}catch(e){t=!0}return t},f.bindPlayers=function(e,t){if(t){var a;f.availModules[t]=e;for(a in f._players)f._players.hasOwnProperty(a)&&1==f._players[a].init&&(f._players[a].modules[t]||(f._players[a][t]=new e.init(f._players[a]),f._players[a].modules[t]=2))}},f.enablePlayer=function(e,t){e&&t&&(f._players[e].modules[t]=2)},f.registerListener=function(e,t){t&&(t.addListener(e,function(t){f._listeners.fireEvent(e,t)}),t.init||(t.init=1,r(t)))},f._listeners=f._listeners||new i,f.lsReady=function(){return f.gIframeReady},f.lsController={store:{get:function(t){f.gIframe.contentWindow.postMessage(JSON.stringify({key:t,eventType:"get",storageType:"local"}),0===e.location.protocol.indexOf("http")?f.gIframe.src:"*")},set:function(t,a){f.gIframe.contentWindow.postMessage(JSON.stringify({key:t,eventType:"set",storageType:"local",data:a}),0===e.location.protocol.indexOf("http")?f.gIframe.src:"*")}},request:function(t){f.gIframe.contentWindow.postMessage(JSON.stringify({eventType:"reqUsingFrame",data:{url:t}}),0===e.location.protocol.indexOf("http")?f.gIframe.src:"*")}},f.getLS=function(){return f.gIframe},f.waitForLS=function(e){f.thirdPartyData.localStorageEnabled?e&&(f.gIframeReady&&"-1"!==f.localStorageId?e():f.onLSReady.push(e)):e&&e()},f.browser=function(){function t(e){void 0!==e.element&&(e.element.addEventListener?e.element.addEventListener(e.eventType,e.func,e.useCapture):e.element.attachEvent&&e.element.attachEvent("on"+e.eventType,e.func))}function a(e){void 0!=e&&null!=e&&null!=e.element&&void 0!=e.element&&(e.element.removeEventListener?e.element.removeEventListener(e.eventType,e.func,e.useCapture):e.element.detachEvent&&e.element.detachEvent("on"+e.eventType,e.func))}function n(n){function r(){a({element:document,eventType:"DOMContentLoaded",func:o}),a({element:e,eventType:"load",func:o})}function o(){r(),i.ready=!0,n&&n()}if(i.ready)return void(n&&n());"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?e.setTimeout(o):(t({element:document,eventType:"DOMContentLoaded",func:o}),t({element:e,eventType:"load",func:o}))}function r(){try{var t=e.localStorage;if(null!==t&&void 0!==t)return!0}catch(e){return!1}return!1}function o(){return document[l]||"hidden"===document[c]}var i={ready:!1},s=["webkit","moz","ms","o"],l="hidden",d="visibilitychange",c="visibilityState";if(!document[l])for(var p=0;p<s.length;p++)if(s[p]+"Hidden"in document){l=s[p]+"Hidden",d=s[p]+"visibilitychange",c=s[p]+"visibilityState";break}return{addEventListener:t,removeEventListener:a,ready:n,localStorageSupported:r,hidden:o,visibilityEvent:d}}(),f.updateReceiver=function(e){l(e)},f.generateGUID=function(){function e(){var e;do{e=Math.floor(992*Math.random())}while(e>61);return e}for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",a=29,n="",r=0;r<29;r++)n+=t.charAt(e());return n+=Math.floor((new Date).getTime()/1e3)},f.getLsId=function(){return"string"!=typeof f.localStorageId?f.localStorageId.toString():f.localStorageId},f.getEmmUrl=function(){return u()},f.getOptoutCookie=function(){return f.optoutCookie},f.setLsId=function(e,t,a){if(null!==e&&void 0!==e&&e!==f.getLsId()&&(f.localStorageId=e,p(f.localStorageId)),t&&f.postMsgAvail)if(f.userAgent.isAndroid()&&f.userAgent.androidVersion().major<6){var n="";f.userAgent.isChrome()?(n="intent://nuid/"+a+"/#Intent;action=android.intent.action.VIEW;scheme=nielsenwebid;component=com.nielsen.odm/.NielsenMobileMeter;end",f.lsController.request(n),f._listeners.fireEvent("info",{type:"info",msg:"Firing EMM intent "+n})):(n="nielsenwebid://nuid/"+a,f.lsController.request(n),f._listeners.fireEvent("info",{type:"info",msg:"Firing EMM deep link "+n})),f.setEmmUrl(n)}else f.lsController.request(t),f._listeners.fireEvent("info",{type:"info",msg:"Firing EMM link "+t}),f.setEmmUrl(t)},f.setEmmUrl=function(e){e&&(f.EMMURL=e,u(f.EMMURL))},f.isValidJson=function(e){var t;try{t=JSON.parse(e)}catch(e){return!1}return"Object"==typeof t},f.loadChildren=s,!f.built){try{c(),O.browserSafeAddEventListener({element:e,eventType:"message",func:function(t){var a,n,r;if(t.data&&"nolInit"==t.data&&e.self===e.top)for(a=e.document.getElementsByTagName("iframe"),n=a.length-1;n>=0;n--)a[n].contentWindow==t.source&&f.postMsgAvail&&t.source.postMessage({key:"nolChildReg",parentID:f.id},0===e.location.protocol.indexOf("http")?t.origin:"*");else t.data&&t.data.key&&"nolChildReg"==t.data.key&&(f.parentFound=!0,e.clearInterval(y));if(t.origin&&t.origin.indexOf("imrworldwide.com")>-1&&t.data){var o=""!==t.data.val&&f.isValidJson(t.data.val)?JSON.parse(t.data.val):t.data.val,i=""!==t.data.key&&f.isValidJson(t.data.key)?JSON.parse(t.data.key):t.data.key;if(t.data&&"lsget"===t.data.type)switch(i){case k:var s="OPTOUT"===String(o).toUpperCase();f.setLsId(o),f.gotLSID=!0,f._listeners.fireEvent("sendOptOutStatus",s);break;case emmUrlKey:f.EMMURL=o,f.gotEMMURL=!0}else if(t.data&&"cookieget"===t.data.type)switch(i){case optoutCookieKey:f.optoutCookie=o,f.gotOptoutCookie=!0}else if(t.data&&"lsdisabled"===t.data.type&&1==t.data.val)switch(f.thirdPartyData.localStorageEnabled=!1,t.data.key){case k:f.gotLSID=!0;break;case emmUrlKey:f.gotEMMURL=!0}else t.data&&"cookiedisabled"===t.data.type&&1==t.data.val&&(f.thirdPartyData.cookiesEnabled=!1,t.data.key===optoutCookieKey&&(f.gotOptoutCookie=!0));f.gotLSID&&f.gotEMMURL&&f.gotOptoutCookie&&d()}},useCapture:!1}),void 0===v&&(v=e.setInterval(function(e){f._listeners.fireEvent("tick",e)},1e3)),f.childGlobal&&(y=e.setInterval(function(){o()},500))}catch(e){}!function(){var e=f.CryptoJS,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,a=e.sigBytes,n=this._map;e.clamp(),e=[];for(var r=0;r<a;r+=3)for(var o=(t[r>>>2]>>>24-r%4*8&255)<<16|(t[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|t[r+2>>>2]>>>24-(r+2)%4*8&255,i=0;4>i&&r+.75*i<a;i++)e.push(n.charAt(o>>>6*(3-i)&63));if(t=n.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var a=e.length,n=this._map,r=n.charAt(64);r&&-1!=(r=e.indexOf(r))&&(a=r);for(var r=[],o=0,i=0;i<a;i++)if(i%4){var s=n.indexOf(e.charAt(i-1))<<i%4*2,l=n.indexOf(e.charAt(i))>>>6-i%4*2;r[o>>>2]|=(s|l)<<24-o%4*8,o++}return t.create(r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,a,n,r,o,i){return((e=e+(t&a|~t&n)+r+i)<<o|e>>>32-o)+t}function a(e,t,a,n,r,o,i){return((e=e+(t&n|a&~n)+r+i)<<o|e>>>32-o)+t}function n(e,t,a,n,r,o,i){return((e=e+(t^a^n)+r+i)<<o|e>>>32-o)+t}function r(e,t,a,n,r,o,i){return((e=e+(a^(t|~n))+r+i)<<o|e>>>32-o)+t}for(var o=f.CryptoJS,i=o.lib,s=i.WordArray,l=i.Hasher,i=o.algo,d=[],c=0;64>c;c++)d[c]=4294967296*e.abs(e.sin(c+1))|0;i=i.MD5=l.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,o){for(var i=0;16>i;i++){var s=o+i,l=e[s];e[s]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}
var i=this._hash.words,s=e[o+0],l=e[o+1],c=e[o+2],p=e[o+3],u=e[o+4],m=e[o+5],f=e[o+6],v=e[o+7],g=e[o+8],_=e[o+9],y=e[o+10],h=e[o+11],P=e[o+12],S=e[o+13],T=e[o+14],O=e[o+15],L=i[0],b=i[1],C=i[2],E=i[3],L=t(L,b,C,E,s,7,d[0]),E=t(E,L,b,C,l,12,d[1]),C=t(C,E,L,b,c,17,d[2]),b=t(b,C,E,L,p,22,d[3]),L=t(L,b,C,E,u,7,d[4]),E=t(E,L,b,C,m,12,d[5]),C=t(C,E,L,b,f,17,d[6]),b=t(b,C,E,L,v,22,d[7]),L=t(L,b,C,E,g,7,d[8]),E=t(E,L,b,C,_,12,d[9]),C=t(C,E,L,b,y,17,d[10]),b=t(b,C,E,L,h,22,d[11]),L=t(L,b,C,E,P,7,d[12]),E=t(E,L,b,C,S,12,d[13]),C=t(C,E,L,b,T,17,d[14]),b=t(b,C,E,L,O,22,d[15]),L=a(L,b,C,E,l,5,d[16]),E=a(E,L,b,C,f,9,d[17]),C=a(C,E,L,b,h,14,d[18]),b=a(b,C,E,L,s,20,d[19]),L=a(L,b,C,E,m,5,d[20]),E=a(E,L,b,C,y,9,d[21]),C=a(C,E,L,b,O,14,d[22]),b=a(b,C,E,L,u,20,d[23]),L=a(L,b,C,E,_,5,d[24]),E=a(E,L,b,C,T,9,d[25]),C=a(C,E,L,b,p,14,d[26]),b=a(b,C,E,L,g,20,d[27]),L=a(L,b,C,E,S,5,d[28]),E=a(E,L,b,C,c,9,d[29]),C=a(C,E,L,b,v,14,d[30]),b=a(b,C,E,L,P,20,d[31]),L=n(L,b,C,E,m,4,d[32]),E=n(E,L,b,C,g,11,d[33]),C=n(C,E,L,b,h,16,d[34]),b=n(b,C,E,L,T,23,d[35]),L=n(L,b,C,E,l,4,d[36]),E=n(E,L,b,C,u,11,d[37]),C=n(C,E,L,b,v,16,d[38]),b=n(b,C,E,L,y,23,d[39]),L=n(L,b,C,E,S,4,d[40]),E=n(E,L,b,C,s,11,d[41]),C=n(C,E,L,b,p,16,d[42]),b=n(b,C,E,L,f,23,d[43]),L=n(L,b,C,E,_,4,d[44]),E=n(E,L,b,C,P,11,d[45]),C=n(C,E,L,b,O,16,d[46]),b=n(b,C,E,L,c,23,d[47]),L=r(L,b,C,E,s,6,d[48]),E=r(E,L,b,C,v,10,d[49]),C=r(C,E,L,b,T,15,d[50]),b=r(b,C,E,L,m,21,d[51]),L=r(L,b,C,E,P,6,d[52]),E=r(E,L,b,C,p,10,d[53]),C=r(C,E,L,b,y,15,d[54]),b=r(b,C,E,L,l,21,d[55]),L=r(L,b,C,E,g,6,d[56]),E=r(E,L,b,C,O,10,d[57]),C=r(C,E,L,b,f,15,d[58]),b=r(b,C,E,L,S,21,d[59]),L=r(L,b,C,E,u,6,d[60]),E=r(E,L,b,C,h,10,d[61]),C=r(C,E,L,b,c,15,d[62]),b=r(b,C,E,L,_,21,d[63]);i[0]=i[0]+L|0,i[1]=i[1]+b|0,i[2]=i[2]+C|0,i[3]=i[3]+E|0},_doFinalize:function(){var t=this._data,a=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;a[r>>>5]|=128<<24-r%32;var o=e.floor(n/4294967296);for(a[15+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(a.length+1),this._process(),t=this._hash,a=t.words,n=0;4>n;n++)r=a[n],a[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return t},clone:function(){var e=l.clone.call(this);return e._hash=this._hash.clone(),e}}),o.MD5=l._createHelper(i),o.HmacMD5=l._createHmacHelper(i)}(Math),function(){var e=f.CryptoJS,t=e.lib,a=t.Base,n=t.WordArray,t=e.algo,r=t.EvpKDF=a.extend({cfg:a.extend({keySize:4,hasher:t.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var a=this.cfg,r=a.hasher.create(),o=n.create(),i=o.words,s=a.keySize,a=a.iterations;i.length<s;){l&&r.update(l);var l=r.update(e).finalize(t);r.reset();for(var d=1;d<a;d++)l=r.finalize(l),r.reset();o.concat(l)}return o.sigBytes=4*s,o}});e.EvpKDF=function(e,t,a){return r.create(a).compute(e,t)}}(),f.CryptoJS.lib.Cipher||function(e){var t=f.CryptoJS,a=t.lib,n=a.Base,r=a.WordArray,o=a.BufferedBlockAlgorithm,i=t.enc.Base64,s=t.algo.EvpKDF,l=a.Cipher=o.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,a){this.cfg=this.cfg.extend(a),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,a,n){return("string"==typeof a?v:m).encrypt(e,t,a,n)},decrypt:function(t,a,n){return("string"==typeof a?v:m).decrypt(e,t,a,n)}}}});a.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var d=t.mode={},c=function(t,a,n){var r=this._iv;r?this._iv=e:r=this._prevBlock;for(var o=0;o<n;o++)t[a+o]^=r[o]},p=(a.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();p.Encryptor=p.extend({processBlock:function(e,t){var a=this._cipher,n=a.blockSize;c.call(this,e,t,n),a.encryptBlock(e,t),this._prevBlock=e.slice(t,t+n)}}),p.Decryptor=p.extend({processBlock:function(e,t){var a=this._cipher,n=a.blockSize,r=e.slice(t,t+n);a.decryptBlock(e,t),c.call(this,e,t,n),this._prevBlock=r}}),d=d.CBC=p,p=(t.pad={}).Pkcs7={pad:function(e,t){for(var a=4*t,a=a-e.sigBytes%a,n=a<<24|a<<16|a<<8|a,o=[],i=0;i<a;i+=4)o.push(n);a=r.create(o,a),e.concat(a)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},a.BlockCipher=l.extend({cfg:l.cfg.extend({mode:d,padding:p}),reset:function(){l.reset.call(this);var e=this.cfg,t=e.iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var a=e.createEncryptor;else a=e.createDecryptor,this._minBufferSize=1;this._mode=a.call(e,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var u=a.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),d=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return e=e.salt,(e?r.create([1398893684,1701076831]).concat(e).concat(t):t).toString(i)},parse:function(e){e=i.parse(e);var t=e.words;if(1398893684==t[0]&&1701076831==t[1]){var a=r.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return u.create({ciphertext:e,salt:a})}},m=a.SerializableCipher=n.extend({cfg:n.extend({format:d}),encrypt:function(e,t,a,n){n=this.cfg.extend(n);var r=e.createEncryptor(a,n);return t=r.finalize(t),r=r.cfg,u.create({ciphertext:t,key:a,iv:r.iv,algorithm:e,mode:r.mode,padding:r.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,a,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(a,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),t=(t.kdf={}).OpenSSL={execute:function(e,t,a,n){return n||(n=r.random(8)),e=s.create({keySize:t+a}).compute(e,n),a=r.create(e.words.slice(t),4*a),e.sigBytes=4*t,u.create({key:e,iv:a,salt:n})}},v=a.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:t}),encrypt:function(e,t,a,n){return n=this.cfg.extend(n),a=n.kdf.execute(a,e.keySize,e.ivSize),n.iv=a.iv,e=m.encrypt.call(this,e,t,a.key,n),e.mixIn(a),e},decrypt:function(e,t,a,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),a=n.kdf.execute(a,e.keySize,e.ivSize,t.salt),n.iv=a.iv,m.decrypt.call(this,e,t,a.key,n)}})}(),function(){for(var e=f.CryptoJS,t=e.lib.BlockCipher,a=e.algo,n=[],r=[],o=[],i=[],s=[],l=[],d=[],c=[],p=[],u=[],m=[],v=0;256>v;v++)m[v]=128>v?v<<1:v<<1^283;for(var g=0,_=0,v=0;256>v;v++){var y=_^_<<1^_<<2^_<<3^_<<4,y=y>>>8^255&y^99;n[g]=y,r[y]=g;var h=m[g],P=m[h],S=m[P],T=257*m[y]^16843008*y;o[g]=T<<24|T>>>8,i[g]=T<<16|T>>>16,s[g]=T<<8|T>>>24,l[g]=T,T=16843009*S^65537*P^257*h^16843008*g,d[y]=T<<24|T>>>8,c[y]=T<<16|T>>>16,p[y]=T<<8|T>>>24,u[y]=T,g?(g=h^m[m[m[S^h]]],_^=m[m[_]]):g=_=1}var O=[0,1,2,4,8,16,32,64,128,27,54],a=a.AES=t.extend({_doReset:function(){for(var e=this._key,t=e.words,a=e.sigBytes/4,e=4*((this._nRounds=a+6)+1),r=this._keySchedule=[],o=0;o<e;o++)if(o<a)r[o]=t[o];else{var i=r[o-1];o%a?6<a&&4==o%a&&(i=n[i>>>24]<<24|n[i>>>16&255]<<16|n[i>>>8&255]<<8|n[255&i]):(i=i<<8|i>>>24,i=n[i>>>24]<<24|n[i>>>16&255]<<16|n[i>>>8&255]<<8|n[255&i],i^=O[o/a|0]<<24),r[o]=r[o-a]^i}for(t=this._invKeySchedule=[],a=0;a<e;a++)o=e-a,i=a%4?r[o]:r[o-4],t[a]=4>a||4>=o?i:d[n[i>>>24]]^c[n[i>>>16&255]]^p[n[i>>>8&255]]^u[n[255&i]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,i,s,l,n)},decryptBlock:function(e,t){var a=e[t+1];e[t+1]=e[t+3],e[t+3]=a,this._doCryptBlock(e,t,this._invKeySchedule,d,c,p,u,r),a=e[t+1],e[t+1]=e[t+3],e[t+3]=a},_doCryptBlock:function(e,t,a,n,r,o,i,s){for(var l=this._nRounds,d=e[t]^a[0],c=e[t+1]^a[1],p=e[t+2]^a[2],u=e[t+3]^a[3],m=4,f=1;f<l;f++)var v=n[d>>>24]^r[c>>>16&255]^o[p>>>8&255]^i[255&u]^a[m++],g=n[c>>>24]^r[p>>>16&255]^o[u>>>8&255]^i[255&d]^a[m++],_=n[p>>>24]^r[u>>>16&255]^o[d>>>8&255]^i[255&c]^a[m++],u=n[u>>>24]^r[d>>>16&255]^o[c>>>8&255]^i[255&p]^a[m++],d=v,c=g,p=_;v=(s[d>>>24]<<24|s[c>>>16&255]<<16|s[p>>>8&255]<<8|s[255&u])^a[m++],g=(s[c>>>24]<<24|s[p>>>16&255]<<16|s[u>>>8&255]<<8|s[255&d])^a[m++],_=(s[p>>>24]<<24|s[u>>>16&255]<<16|s[d>>>8&255]<<8|s[255&c])^a[m++],u=(s[u>>>24]<<24|s[d>>>16&255]<<16|s[c>>>8&255]<<8|s[255&p])^a[m++],e[t]=v,e[t+1]=g,e[t+2]=_,e[t+3]=u},keySize:8});e.AES=t._createHelper(a)}(),f.built=!0}if(e.gg_nol_CallBack)for(g=0,_=e.gg_nol_CallBack.length;g<_;g+=1)e.gg_nol_CallBack[g]&&e.gg_nol_CallBack[g].callBack&&e.gg_nol_CallBack[g].callBack(f);return f}),e.NOLBUNDLE.registerLib("PLDPR",function(t){"use strict";function a(e,t){var a=[],n=e.split("&"),r,o;for(r=0,o=n.length;r<o;r+=1)0!==n[r].indexOf(t)&&a.push(n[r]);return a.join("&")}function n(t,a){var n=t.split("||"),r=n[0]||t;if(e)for(var o=0,i=n.length;o<i;o+=1)r=n[o],void 0!==e["on"+r]&&(e.addEventListener?e.addEventListener(r,a,!1):e.attachEvent&&e.attachEvent("on"+r,a))}function r(e,t){var a;if("num"==t)a=parseInt(e,10),e=isNaN(a)?0:a;else if("bin"==t)e=isNaN(Number(e))?"0":Number(e).toString(2);else if("bool"==t)switch(e.toString().toLowerCase()){case"false":case"no":case"0":case"":e=!1;break;default:e=!0}else"b2n"==t&&(a=parseInt(e,2),e=isNaN(a)?0:a);return e}function o(e){var t,a=[];for(t=0;t<r(e,"num");t+=1)a.push({tsv:0,save:!1,updated:!1});return a}function i(e){return{tags:[],eventQueue:e&&e.eventQueue?e.eventQueue:[],tagSize:1,bReInit:!1,debug:Le,eventQueueIndex:0}}function s(t){var n;void 0!==t&&0!==t.length&&(n=e.document.createElement("script"),n.type="text/javascript",n.src=a(t,"rnd=")+"&rnd="+Math.round(1e6*Math.random()),n.onerror=function(t){var a=t.target.src;e.document.head?e.document.head.removeChild(t.target):e.document.getElementsByTagName("head")[0].removeChild(t.target),ge<_e&&(ge+=1,e.setTimeout(function(){s(a)},5e3))},n.onload=function(t){ge=0,e.document.head?e.document.head.removeChild(t.target):e.document.getElementsByTagName("head")[0].removeChild(t.target)},e.document.head?e.document.head.appendChild(n):e.document.getElementsByTagName("head")[0].appendChild(n))}function l(){var e=Array.prototype.slice.call(arguments);t._listeners.fireEvent("info",{type:"info",msg:e.join(" ")})}function d(e){return encodeURIComponent(e).replace("'","%27")}function c(e){var t=0===re.indexOf("https")?"https":"http",a,n,r,o=e.url,i=e.hasOwnProperty("maskRef")?e.maskRef:-1;if("__sendIt"!==o&&"https"===t&&-1===o.indexOf("https")&&(o=t+o.substr(o.indexOf("://"))),e.prod&&"ocr"===e.prod&&-1!==o.indexOf("&ty=js"))return void s(o);if(Pe||"__sendIt"===o)if(o&&Pe&&Te)Oe.push(o);else if("__sendIt"!==o||Te)o&&Pe&&!Te&&he.push(o);else{for(Te=!0,a=0,n=he.length;a<n;a+=1)Ae.setup({pingSendTime:S(e.serverTimeOffset),url:he.shift(),maskRefUrl:i});he=he.concat(Oe),Te=!1,Oe=[]}else Ae.setup({pingSendTime:S(e.serverTimeOffset),url:o,maskRefUrl:i})}function p(e,t){var a="",n,r,o,i;if(!e||!t)return e;for(i=t.length,r=0,o=e.length;r<o;r+=1)n=e.charCodeAt(r)^t.charCodeAt(r%i),a+=0===n?e.charAt(r):String.fromCharCode(n);return a}function u(e,a,n,r,o){var i,s;-1===n.indexOf("[")&&-1===n.indexOf("]")&&(!r.val||r.val.length<=0)?o||(g(e,{type:"100",msg:n+" missing -- "+B({data:e,param:"nol_comment"})}),r.state=!1,r.val=""):"{"===a||"}"===a?r.val=t.CryptoJS.MD5(r.val.toString()).toString():"<"===a||">"===a?(i=n.match(ce["<"].end),i?(s=i[0].match(/[\d]+/g),r.val=String(r.val).substr(s[0],s[1])):r.val=p(String(r.val),B({data:e,param:"nol_xorSeed"}))):"("!==a&&")"!==a||(r.val=d(r.val))}function m(e,t,a,n){var r="";return a&&a.clientField!==t&&!0!==n.end&&(r=xe.cms.parse(a,e,n))?r:B({data:e,param:t,vidType:n?n.vidType:""})}function f(e,t,a){var n=t.match(/[\[\{<\(]/g),r,o,i,s,l,d,c,p,f,v,_,y,h=B({data:e,param:"nol_xorSeed"})||"",P,S;n=n?n.reverse():[],o=t.match(/[\}\]\>\)]/g)||[],s={start:n.length?t.lastIndexOf(String(n[0])):-1,end:o.length?t.indexOf(String(o[0])):t.length},o&&">"===o[0]&&(s.end=t.search(ce["<"].end)||t.indexOf(">")),d=t.substring(s.start+1,s.end),f=d.split("||");var T=me.exec(d),O=T&&T.length>1?T[1]:lookup,L=null,b="",C=Ee[e.get("nol_playerId")]||{};for(v=0,_=f.length;v<_&&(d=f[v],L=me.exec(f[v]),b=L&&L.length>2&&L[2]?L[2].replace("_",""):"",!((y=m(e,d,C[O],{vidType:(a?a.vidType:null)||b,silent:!0,noClone:!0,end:!!a&&a.end,noEncode:!0}))&&y.length>0));v+=1);if(y&&y.length>0&&(S="string"==typeof d?d.split("_"):d,P=S[0]?S.splice(0,2).join("_"):S,(l=C[P]?C[P].encoding:"")&&(n=n.reverse().concat(l.match(/[\[\{<\(]/g)).reverse(),o=o.reverse().concat(l.match(/[\}\]>\)]/g)).reverse())),r={val:y,state:B({data:e,param:"nolPriv_sendData"})},c=n?n.length:0,p=o?o.length:0,(i=Math.min(c,p))>0)for(v=0,_=i;v<_;v+=1)u(e,n[0]||o[0],t,r,h),n.shift(),o.shift();else!0!==(!!a&&a.silent)&&(!r.val||r.val&&r.val.length<=0)&&(r.state=!1,r.val="",g(e,{type:100,msg:d+" missing "+B({data:e,param:"nol_comment"})}));return{val:r.val,strManipulate:n,strManiEnd:o}}function v(e,t,a,n){var r,o,i={val:"",state:B({data:e,param:"nolPriv_sendData"})},s=B({data:e,param:"nol_md5Seed"}),l,d,c,p=[],m,v=[],g=[],_,y="",h,P,S,T,O,L,b=B({data:e,param:"nol_xorSeed"});if(n=n||{},t=t||B({data:e,param:"nol_url"})||"",null!==(o=t.match(pe.regex)))for(P=0,S=o.length;P<S;P+=1){if(r=o[P],l=r.substr(pe.length,r.length-2*pe.length),d=l.split("+"),p=[],y="",c=0,d&&d.length>1){for(T=0,O=d.length;T<O;T+=1)if(y=d[T],n.silent=!0,m=f(e,y,n),m.strManipulate.length>0&&(c=p.length,v=[].concat(m.strManipulate,v)),p[c]=p[c]?p[c]+m.val:m.val,m.strManiEnd.length>0&&m.strManiEnd.length!==v.length){for(g=[].concat(g,m.strManiEnd),i={val:p[c],state:B({data:e,param:"nolPriv_sendData"})},_=0,L=m.strManiEnd.length;_<L;_+=1)u(e,v[0],y,i,b),v.shift(),g.shift();p[c]=i.val}for(i.val=p.join(""),h=v.length>=g.length?v:g,_=0,L=h.length;_<L;_+=1)u(e,h[0],y,i,b),v.shift(),g.shift()}else m=f(e,l,n),i={val:m.val,state:B({data:e,param:"nolPriv_sendData"})};t=t.replace(r,i.val)}return t}function g(e,a,n,r){var o,i,s=B({data:e,param:"nolPriv_errorSent"});return!0!==r&&B({data:e,param:"nolPriv_sendData",val:!1}),!(!n&&-1!==(!a||s.indexOf(a.type.toString())))&&(!!xe.isInitialized(e)&&(o=a.type+","+d(a.msg),B({data:e,param:"nol_errorMessage",val:o}),t._listeners.fireEvent("error",{type:"error",msg:o}),i=v(e,B({data:e,param:"nol_errorURL"})),c({serverTimeOffset:B({data:e,param:"nolPriv_serverTimeOffset"}),url:i,maskRef:B({data:e,param:"nol_rfrmsk"})}),s+=a.type.toString()+",",B({data:e,param:"nolPriv_errorSent",val:s}),!0))}function _(e){var t=!1}function y(e,t,a){a&&!a.serviceSending[t]&&(a.serviceSending[t]=!0,s(e))}function h(e,t){var a=e||6;return Math.ceil(t/a)*a||"0"}function P(e,t){var a=!1,n=0,o=!1,i=r(B({data:e,param:"nol_unQualSegmentValue"}),"num"),s=B({data:e,param:"nol_minutes"}),l=[],d=!!t&&t.save,c,p,u,m=r(B({data:e,param:"nol_segmentTimeSpent"}),"num"),f=r(B({data:e,param:"nol_sendQual"}),"num"),v=B({data:e,param:"nol_cadence"});for(c=0,p=s.length;c<p;c+=1)u=Math.floor(s[c].tsv/B({data:e,param:"nol_creditValue"})),u>=1?(s[c].save&&"daypart"!==B({data:e,param:"nol_cadence"})?l.push(0):(l.push(B({data:e,param:"nol_creditFlag"})),n+=1,a=!0),o=!0):(l.push(0),o=!1),d?s[c].save=o:(s[c].tsv=0,s[c].save=!1,s[c].updated=!1);return B({data:e,param:"nol_duration",val:l.join("")}),f&&(a=n>=f),!0===r(B({data:e,param:"nol_minWonOverride"}),"bool")&&(a=!0),a||"interval"!==v&&"streamduration"!==v||d||("S"===B({data:e,param:"nol_segmentPrefix"})&&i&&B({data:e,param:"nol_duration",val:h(i,m)}),a=m>1),a}function S(e){return void 0!==e?(Be()/1e3>>0)+e:Be()/1e3>>0}function T(t){Number(t)===t&&t%1!=0&&e.console&&e.console.warn&&e.console.warn("Warning: nol_segmentTimeSpent is a float - should be an integer.")}function O(e,t){var a=B({data:e,param:"nol_url"})||"",n,i,s,d,p=0,u,m=B({data:e,param:"nol_playerId"}),f=r(B({data:e,param:"nol_maxPingCount"}),"num"),g=r(B({data:e,param:"nol_pingCount"}),"num"),y=!!t&&t.returnLength,h=B({data:e,param:"nol_cadence"}),O=B({data:e,param:"nol_eventFilter"}),L=r(B({data:e,param:"nol_maxLength"}),"num");if(B({data:e,param:"nol_pingCreationTime",val:S(B({data:e,param:"nolPriv_serverTimeOffset"}))}),i=B({data:e,param:"nol_timeSpentViewing"}).content,s=B({data:e,param:"nol_timeSpentViewing"}).ad,d=B({data:e,param:"nol_timeSpentViewing"}).static,T(B({data:e,param:"nol_segmentTimeSpent"})),(!e.isProductOf(["dcrvideo","vrivideo"])||"1"===B({data:e,param:"nol_forceFireOnClose_content"})||!(e.isProductOf(["dcrvideo","vrivideo"])&&0===i.nol_segmentTimeSpent||"dcrstatic"===B({data:e,param:"nol_product"})&&0===d.nol_segmentTimeSpent)||"interval"!==h&&"streamduration"!==h||0!==s.nol_count||0!==s.nol_segmentTimeSpent)&&"false"===B({data:e,param:"nol_disabled"})&&(0===f||f>g)){if(Ne.setNextTick(e,null,"content"),n=P(e,t)||"stream"===h||"impression"===h||"id3"===B({data:e,param:"nol_product"}),B({data:e,param:"nol_random",val:Math.round(1e9*Math.random())}),a=v(e,a),p=a.length,B({data:e,param:"nolPriv_sendData"})&&n&&!y||L>0&&L<p){if(B({data:e,param:"nol_id3Data"})&&B({data:e,param:"nol_id3Data",val:!1}),l(B({data:e,param:"nol_comment"})," -queued @"+Math.floor(Be()/1e3)+", timeOffset == "+B({data:e,param:"nolPriv_serverTimeOffset"})+", DU == "+B({data:e,param:"nol_segmentTimeSpent"})+" -- ",a),O.onSendPing&&(M(e,O.onSendPing),"true"===B({data:e,param:"nol_disabled"})))return;c({serverTimeOffset:B({data:e,param:"nolPriv_serverTimeOffset"}),url:a,prod:B({data:e,param:"nol_product"}),maskRef:B({data:e,param:"nol_rfrmsk"})}),B({data:e,param:"nol_viewCount_"+e._currVidType.toLowerCase(),val:"0"}),Ne.clear(e),fe&&fe.hasOwnProperty(m)&&fe[m].hasOwnProperty("debug")&&"logging"===fe[m].debug&&(u=B({data:e,param:"nol_debugUrl"}),u||(u=B({data:e,param:"nol_prefProtocol"})+"://nielsen.guru/validation/query_string.php?"),u+="pli="+m+"&sendPing="+B({data:e,param:"nol_product"})+"&"+a.substring(a.indexOf("?")+1),_(u)),g+=1,i.nol_segmentTimeSpent=0,i.nol_count=0,s.nol_segmentTimeSpent=0,s.nol_count=0,d.nol_segmentTimeSpent=0,d.nol_count=0,B({data:e,param:"nol_pingStartTimeUTC",val:Math.round(Be()/1e3)}),B({data:e,param:"nolPriv_priority",val:0}),B({data:e,param:"nol_pingCount",val:g.toString()}),B({data:e,param:"nol_forceFireOnClose_content",val:"0"});var b=o(B({data:e,param:"nol_segmentLength"}));B({data:e,param:"nol_duration",val:new Array(b.length+1).join("0")})}else if(y)return{len:p,fData:a};return null}}function L(e){try{if(void 0===e)return;var a=o(B({data:e,param:"nol_segmentLength"}));B({data:e,param:"nol_minutes",val:a}),B({data:e,param:"nol_duration",val:new Array(a.length+1).join("0")})}catch(e){t._listeners.fireEvent("error",{type:"error",msg:"Error in resetMinutes(). Error - "+e.message})}}function b(e,t){var a=r(B({data:e,param:"nol_segmentLength"}),"num")*r(B({data:e,param:"nol_segmentValue"}),"num");return{segment:Math.floor(t/a+1),minute:Math.floor(t%a/B({data:e,param:"nol_segmentValue"})),seconds:t%B({data:e,param:"nol_segmentValue"})}}function C(e,a){var n,i=B({data:a,param:"nol_tagSrc"}),e=""!==e?e:"id3"===i&&B({data:a,param:"nol_fdcid"})!==B({data:a,param:"nol_cidNull"})?B({data:a,param:"nol_fdoffset"}):"id3"===i&&B({data:a,param:"nol_pccid"})!==B({data:a,param:"nol_cidNull"})?B({data:a,param:"nol_pcoffset"}):e,s=B({data:a,param:"nol_eventFilter"}),l=B({data:a,param:"nol_minutes"}),d=r(B({data:a,param:"nol_pingCount"}),"num"),c,p,u,m,f,v,g,_,y=B({data:a,param:"nol_playerId"}),h=t._players&&t._players.hasOwnProperty(y)?t._players[y]:-1,P=B({data:a,param:"nol_localDay"}),S=B({data:a,param:"nol_dayQhr"}),T=B({data:a,param:"nol_weekQhr"}),L,C,E,w=B({data:a,param:"nol_wmDay"}),k=B({data:a,param:"nol_wmDayQhr"}),I,D,A=r(B({data:a,param:"nol_weekEndUTC"}),"num"),R=r(B({data:a,param:"nol_weekStartUTC"}),"num"),N=A-R,x,F=r(B({data:a,param:"nolPriv_serverTimeOffset"}),"num"),V,G=B({data:a,param:"nol_timer"})||"nol_fdoffset",U=r(B({data:a,param:"nolPriv_currMin"}),"num"),j=r(B({data:a,param:"nol_maxPingCount"}),"num"),Q=r(B({data:a,param:"nol_creditValue"}),"num"),z=r(e,"num"),K=r(B({data:a,param:"nol_intrvlThrshld"}),"num")||86400,J="nol_cmsoffset"===G||"nol_pageoffset"===G?r(B({data:a,param:"nol_cmsIntrvlGp"}),"num")||2:r(B({data:a,param:"nol_id3IntrvlGp"}),"num"),W=r(B({data:a,param:"nol_segmentLength"}),"num")*r(B({data:a,param:"nol_segmentValue"}),"num"),H=r(B({data:a,param:"nol_currSeg"}),"num"),X=r(B({data:a,param:"nolPriv_now"}),"num"),Y,$=B({data:a,param:"nol_timeSpentViewing"})[a._currVidType],Z=r(B({data:a,param:"nolPriv_currPos"}),"num");if(a.set("nolPriv_prevPos",a.get("nol_currPos")),1===e?a.set("nol_currPos","0"):a.set("nol_currPos",e),"modcadence"===a.get("nol_cadence"))e%a.get("nol_segmentValue")==0&&(e<a.get("nol_length")||!a.get("nol_length"))&&O(a);else{if(I=Math.floor(z/86400)+1,w||B({data:a,param:"nol_wmDay",val:I}),D=Math.floor(z%86400/900)+1,k||B({data:a,param:"nol_wmDayQhr",val:D}),z>86400&&"nol_cmsoffset"===G?(z+=F,_=z+r(B({data:a,param:"nol_startDayTimeOffset"}),"num"),v=_+r(B({data:a,param:"nol_GMTOffset"}),"num")):_=v=z,L=Math.floor(v/86400)+1,P&&P!=L&&O(a),P||B({data:a,param:"nol_localDay",val:L}),z>A&&(s.onWeekEndUTC?M(a,s.onWeekEndUTC):(B({data:a,param:"nol_week",val:B({data:a,param:"nol_nextWeek"})}),B({data:a,param:"nol_period",val:B({data:a,param:"nol_nextPeriod"})}),B({data:a,param:"nol_weekStartUTC",val:A+1}),B({data:a,param:"nol_weekEndUTC",val:A+1+N}))),C=Math.floor((z-r(B({data:a,param:"nol_weekStartUTC"}),"num"))/900)+1,T&&C===T||B({data:a,param:"nol_weekQhr",val:C}),"nol_cmsoffset"===G&&(z=v%86400),E=Math.floor(z/900)+1,S||B({data:a,param:"nol_dayQhr",val:E}),z=Math.floor(z),"1"===B({data:a,param:"nol_applyViewInc"})&&(q(a),B({data:a,param:"nol_applyViewInc",val:"0"})),"true"===B({data:a,param:"nol_disabled"})||void 0===z||j>0&&j<=d&&"daypart"!==B({data:a,param:"nol_cadence"}))return;if("stream"!==B({data:a,param:"nol_cadence"})&&"impression"!==B({data:a,param:"nol_cadence"})){if(Z=""===Z?z:r(Z,"num"),X||(X=Be()),V=Math.ceil((Be()-X)/1e3)||1,Y=b(a,Z),n=Y.segment,x=Y.minute,c=Y.seconds,f=z-Z,B({data:a,param:"nolPriv_currPos",val:z}),H&&void 0!==n&&H!==n&&(("dcrvideo"!==B({data:a,param:"nol_product"})||"dcrvideo"===B({data:a,param:"nol_product"})&&B({data:a,param:"nol_segmentTimeSpent"})>0)&&O(a,{save:!0}),"episode"!==B({data:a,param:"nol_cadence"})&&B({data:a,param:"nol_pingCount",val:0}),l=o(B({data:a,param:"nol_segmentLength"})),B({data:a,param:"nol_minutes",val:l}),S&&S!==E&&(B({data:a,param:"nol_dayQhr",val:E}),B({data:a,param:"nol_weekQhr",val:C}),P&&P!==L&&B({data:a,param:"nol_localDay",val:L})),k&&k!==D&&B({data:a,param:"nol_wmDayQhr",val:D}),w&&w!==I&&B({data:a,param:"nol_wmDay",val:I})),H=n,void 0!==x&&f>0){if(U!==x&&(l[x].save||"daypart"===B({data:a,param:"nol_cadence"})||(l[x].tsv>=Q?O(a):(l[x].tsv=0,l[x].updated=!1))),f<J||f<=Math.ceil(1.5*V)&&f<K)for(g=r(B({data:a,param:"nol_sendQual"}),"num"),p=0;p<f;p+=1){if((c+p)%B({data:a,param:"nol_segmentValue"})!=0){if("daypart"!==B({data:a,param:"nol_cadence"})&&l[x].tsv>=B({data:a,param:"nol_segmentValue"})&&(l[x].save?(l[x].tsv=0,l[x].save=!1,l[x].updated=!1):O(a)),l[x].tsv+=1,$.nol_cumeTimeSpent+=1,$.nol_segmentTimeSpent+=1,l[x].tsv>=Q&&g){for(l[x].updated||(B({data:a,param:"nolPriv_priority",val:Be()}),l[x].updated=!0),u=0,m=0;u<l.length;u+=1)if((m+=l[u].tsv>=Q?1:0)>=g){g="send";break}"send"===g&&B({data:a,param:"nol_sendQual"})&&(s.onViewWon&&M(a,s.onViewWon),O(a,{save:!0}),g=0,"daypart"!==B({data:a,param:"nol_cadence"})&&B({data:a,param:"nol_sendQual",val:"0"}))}}else 0!==p&&(x+=1),l.length<=x?(O(a,{save:!0}),x=0,H+=1,B({data:a,param:"nol_currSeg",val:H}),B({data:a,param:"nol_pingCount",val:0}),l=o(B({data:a,param:"nol_segmentLength"})),B({data:a,param:"nol_minutes",val:l}),S&&S!==E&&(B({data:a,param:"nol_dayQhr",val:E}),B({data:a,param:"nol_weekQhr",val:C}),P&&P!==L&&B({data:a,param:"nol_localDay",val:L})),k&&k!==D&&B({data:a,param:"nol_wmDayQhr",val:D}),w&&w!==I&&B({data:a,param:"nol_wmDay",val:I})):"daypart"!==B({data:a,param:"nol_cadence"})&&!l[x].save&&l[x].tsv>=Q?O(a):l[x].save||(l[x].tsv=1,l[x].updated=!1),$.nol_cumeTimeSpent+=1,$.nol_segmentTimeSpent+=1;B({data:a,param:"nolPriv_currMin",val:x})}B({data:a,param:"nolPriv_now",val:Be()}),-1!==h&&"dcrstatic"!==B({data:a,param:"nol_product"})&&(h.pauseObj.pauseTime=0)}}else n=Math.floor(z/W+1),"content"===B({data:a,param:"nol_ac"})&&(H=n,B({data:a,param:"nol_currSeg",val:H})),O(a);B({data:a,param:"nol_currSeg",val:H})}}function E(e,t,a){var n=B({data:e,param:"iag_"+t});return void 0!==n&&""!==n?a="&pr=iag."+t+","+d(n):a&&a.length>0&&-1===a.indexOf("&pr=iag")?a="&pr=iag."+t+","+d(a):void 0!==a&&null!==a||(a=""),a}function w(e,t){var a,n,o,i,s,l,c,p,u,m,f,v,g,_,y,h,P=B({data:e,param:"nol_vidtype"});B({data:e,param:"nol_prod"}).indexOf("iag")>=0&&(a="",n=E(e,"sid",B({data:e,param:"nol_sid",vidType:"content"})),o=E(e,"tfid",B({data:e,param:"nol_tfid",vidType:"content"})),i=E(e,"bcr",B({data:e,param:"nol_clientid",vidType:"content"})),l=E(e,"epi",B({data:e,param:"nol_title"})||B({data:e,param:"nol_title",vidType:"content"})),s=E(e,"pgm",B({data:e,param:"nol_censuscategory"})||B({data:e,param:"nol_category"})||B({data:e,param:"nol_iagcategory"})),s||(s=E(e,"pgm",B({data:e,param:"nol_censuscategory",vidType:"content"})||B({data:e,param:"nol_category",vidType:"content"})||B({data:e,param:"nol_iagcategory",vidType:"content"})))||(s="&pr=iag.pgm,general"),c="&pr=iag.seg,",r(B({data:e,param:"nol_chapter",vidType:"content"}),"num")>1?c+=B({data:e,param:"iag_seg"})||B({data:e,param:"nol_chapter",vidType:"content"}):c+="1",p=E(e,"pd",p),u=E(e,"oad",u),g=E(e,"fp",g),h=E(e,"cust1",h),"ad"===t?(m="&pr=iag.brn,"+B({data:e,param:"nol_clientid"}),f="&pr=iag.cte,"+d(B({data:e,param:"nol_adURL"})),v="midroll"===P?"&pr=iag.ap,mid":"postroll"===P?"&pr=iag.ap,post":"&pr=iag.ap,pre",n=E(e,"sid",n),o=E(e,"tfid",o),i=E(e,"bcr",i),m=E(e,"brn",m),f=E(e,"cte",f),s=E(e,"pgm",s),l=E(e,"epi",l),c=E(e,"seg",c),p=E(e,"pd",p),u=E(e,"oad",u),_=E(e,"pod",_),y=E(e,"apt",y),a=n+o+i+s+l+c+p+m+v+f+u+g+_+y+h):a=n+o+i+s+l+c+p+u+g+h,a+="&pr=iag.cp,soc",B({data:e,param:"nol_iagData",val:a}))}function k(e){var a;if(fe[e.id]&&fe[e.id].tags.length===fe[e.id].tagSize){if(t._listeners.fireEvent("debug",{type:"debug",msg:"pli="+e.id+"&ggpm="+JSON.stringify(e)}),fe[e.id].debug!==Le&&"logging"===fe[e.id].debug){if(a=fe[e.id].nol_debugUrl,a||(a=fe[e.id].nol_prefProtocol+"://nielsen.guru/validation/query_string.php?"),fe[e.id].eventQueue.length>fe[e.id].eventQueueIndex+1)for(var n=fe[e.id].eventQueueIndex;n<fe[e.id].eventQueue.length;n++)_(a+"pli="+e.id+"&ggpm="+JSON.stringify(fe[e.id].eventQueue[n])),fe[e.id].eventQueueIndex=n;a+="pli="+e.id+"&ggpm="+JSON.stringify(e),_(a)}e.timeStamp=Be();for(var n=0,r=fe[e.id].tags.length;n<r;n+=1)fe.hasOwnProperty(e.id)&&fe[e.id].tags[n].eventListener(e)}else fe[e.id]&&fe[e.id].eventQueue||(fe[e.id]=i(fe[e.id])),fe[e.id].eventQueue.push(e)}function I(e,t){var a,n;fe[t].bReInit||(fe[t].bReInit=!0,fe[t].eventQueue=[],e&&fe[t].eventQueue.push(e),s(Ce))}function D(e,t,a){var n=!1,r=a.toString().toLowerCase().indexOf(t.toString().toLowerCase());return"-"===e&&-1===r?n=!0:"+"===e&&(a===t||-1!==r&&a&&t)?n=!0:"--"===e&&-1===t.toString().toLowerCase().indexOf(a.toString().toLowerCase())?n=!0:"++"===e&&-1!==t.toString().toLowerCase().indexOf(a.toString().toLowerCase())&&(n=!0),n}function M(e,t,a){var n=t||B({data:e,param:"nol_finalFilter"}),r,o,i,s,l,d,c,p,u,m,f,v=a||{};if(n&&void 0!==n)for(r=0,o=n.length;r<o;r+=1){if(p=n[r],p.tagVar.length)for(var i=0,s=p.tagVar.length;i<s&&(m=B({data:e,param:p.tagVar[i].name}));i++);else m=B({data:e,param:p.tagVar.name});if(m&&p.tagVar.value===m){for(i=0,s=p.cond.length;i<s;i+=1){if(c=v[p.cond[i]]||B({data:e,param:p.cond[i]}),d=0===p.is.value.indexOf("nol_")&&B({data:e,param:p.is.value})?B({data:e,param:p.is.value}):p.is.value,void 0===c||void 0===d||!D(p.is.type,c,d)){u=!1;break}u=!0}if(void 0!==u&&void 0!==(f=u?p.then:p.else))for(l in f)f.hasOwnProperty(l)&&(void 0!==v.nol_vidtype?v[l]=f[l]:B({data:e,param:l,val:f[l]}))}}}function A(e,t){var a,n=e.data._settings,r=e.param;return void 0===t||null===t?void 0===(a=n.hasOwnProperty(r)&&fe[n.nol_playerId].nol_tagMap.hasOwnProperty(r)&&("object"==typeof fe[n.nol_playerId].nol_tagMap[r]||"array"==typeof fe[n.nol_playerId].nol_tagMap[r])?fe[n.nol_playerId].nol_tagMap[r][n[r]]:n.hasOwnProperty("nol_defaults")&&n.nol_defaults.hasOwnProperty(r)?n.nol_defaults[r]:fe[n.nol_playerId].nol_tagMap.nol_defaults[r]||fe[n.nol_playerId][r])&&(a=n.hasOwnProperty(r)?n[r]:fe[n.nol_playerId].nol_tagMap[r]):n.hasOwnProperty("nol_defaults")&&n.nol_defaults.hasOwnProperty(r)?n.nol_defaults[r]=t:n[r]=t,a}function B(a){try{if(a){if("string"==typeof a.param&&-1===a.param.indexOf("nol_")&&-1===a.param.indexOf("nolPriv_")&&a.param.split("_").length-1>1)return;var n="string"==typeof a.param?a.param.split("_"):a.param,r,o=n[0]?n.splice(0,2).join("_"):n,i=a.vidType||n[0]||a.data._currVidType,s=a.data._currAssetid||"0",l=void 0!==a.data._dataArrObj[i][s]?a.data._dataArrObj[i][s]:a.data._dataArrObj[i][Object.keys(a.data._dataArrObj[i]).splice(-1,1)],d=Ee[a.data._settings.nol_playerId]||{},c=d[o]?d[o].clientField:o;if("object"==typeof c)r=l;else if("nol_segmentTimeSpent"===c||"nol_cumeTimeSpent"===c||"nol_count"===c){var p=B({data:a.data,param:"nol_timeSpentViewing"});r=p[i][c]}else void 0===a.val||null===a.val?void 0!==(r=l&&l.hasOwnProperty(c)?l[c]:fe[a.data._settings.nol_playerId][c])&&""!==r||void 0!==(r=A(a)||"")&&""!==r||(0===c.indexOf("nol_")?a.param=c:a.param=o,r=A(a)||""):l&&(l[c]=a.val);return r}return null}catch(a){e.console&&e.console.error&&e.console.error("Error in Data(): "+a.message+" __param: "+n),t._listeners.fireEvent("error",{type:"error",msg:"Error in Data(): "+a.message})}}function R(a,n){var r=xe.findPlayer(a),o=r.oServiceCall[n.service],i=n.url,s=n.key,l;if(n.evntCB=B({data:a,param:a.serviceFlag[n.service].callback}),n.callBack=function(e){N(a,e,n)},!o&&s&&i&&i.length>0)"stnupdate"===n.evntCB&&(void 0===r.oServiceCall[n.service]||void 0===r.oServiceCall[n.service].status||"init"!==r.oServiceCall[n.service].status&&"complete"!==r.oServiceCall[n.service].status)&&(r.oServiceCall[n.service]={status:"init",station:null,data:null}),t._listeners.addListener(n.evntCB,n.callBack,!0),y(v(a,i),n.service,r);else if(o&&"init"===o.status);else if(o&&"complete"===o.status&&s!==o.station)t._listeners.addListener(n.evntCB,n.callBack,!0),y(v(a,i),n.service,r);else if(o&&"complete"===o.status&&s===o.station){for(l in o.data)o.data.hasOwnProperty(l)&&B({data:a,param:l,val:o.data[l]});if(ke?M(a,ke[n.service]):M(a,we),"true"===B({data:a,param:"nol_disabled"}))return;a.serviceFlag[n.service].need&&(B({data:a,param:"nol_davState",val:"1"}),a.serviceFlag[n.service].need=!1,C(B({data:a,param:"nol_queueTime"}),a))}else t._listeners.fireEvent(n.evntCB,n),e.setTimeout(function(){R(a,n)},1e3)}function N(e,t,a){var n={},o,i=0,s;if(B({data:e,param:"nol_playerId"})===t.target.nol_playerId){for(s in t.target)t.target.hasOwnProperty(s)&&(B({data:e,param:s,val:t.target[s]}),n[s]=t.target[s]);var l=xe.findPlayer(e);if(l){var d=void 0!==l.oServiceCall[a.service]&&l.oServiceCall[a.service].hasOwnProperty("status")?l.oServiceCall[a.service].status:"undefined";l.oServiceCall[a.service]={status:"complete",prevStatus:d,station:a.key,data:n},l.serviceSending[a.service]=!1}if(ke?M(e,ke[a.service]):M(e,we),"true"===B({data:e,param:"nol_disabled"}))return;e.serviceFlag[a.service].need&&(B({data:e,param:"nol_davState",val:"1"}),e.serviceFlag[a.service].need=!1,t.target.hasOwnProperty("nol_fdTimeCode")&&"daypart"===B({data:e,param:"nol_cadence"})&&(i=r(t.target.nol_fdTimeCode,"num"),o=r(B({data:e,param:"nol_queueTime"}),"num"),B({data:e,param:"nol_queueTime",val:o+i})),C(B({data:e,param:"nol_queueTime"}),e))}}function x(e){if("id3"===B({data:e,param:"nol_product"})&&B({data:e,param:"nol_id3Data"}))return void O(e)
;e.isProductOf("vrivideo")&&"ended"!==e.set("nol_vriEvent")||"true"!==B({data:e,param:"nol_disabled"})&&"1"===B({data:e,param:"nol_davState"})&&(B({data:e,param:"nol_davState",val:"2"}),"daypart"===B({data:e,param:"nol_cadence"})?O(e,{save:!0}):O(e),L(e),B({data:e,param:"nol_disabled",val:"true"}))}function F(e,t){(t&&!0===t.flush||!("dcrstatic"===B({data:e,param:"nol_product"})&&"stream"!==B({data:e,param:"nol_cadence"})||e.isProductOf("vrivideo")))&&("content"===B({data:e,param:"nol_ac"})&&B({data:e,param:"nol_segmentTimeSpent"})>0||"streamduration"===B({data:e,param:"nol_cadence"})&&B({data:e,param:"nol_segmentTimeSpent"})>0||"dcrstatic"===B({data:e,param:"nol_product"})&&"stream"===B({data:e,param:"nol_cadence"})||"postroll"===B({data:e,param:"nol_vidtype"})&&"interval"===B({data:e,param:"nol_cadence"})||"dcrstatic"===e.get("nol_product")&&t&&!0===t.flush)&&("content"===B({data:e,param:"nol_ac"})||t&&!0===t.save?O(e,{save:!0}):O(e),B({data:e,param:"nolPriv_now",val:0}))}function V(e,a){var n=null,r=Math.round(Be(e)/1e3);try{e&&Ne.isEnabled(e)&&(n=Fe.inferEvent(a.currEvtType,e,a._param1,r,a._param3))&&(n.event!==Fe.events.play&&xe.state.set(e,n),Ne.preProcess(e,n))}catch(e){t._listeners.fireEvent("error",{type:"error",msg:"Error in ggpmPreProc(). Error preprocessing event - "+e.message})}return{inferredEvent:n,timestamp:r}}function G(e,a){try{e&&a.inferredEvent&&(a.inferredEvent.event===Fe.events.play&&xe.state.set(e,a.inferredEvent),Ne.postProcess(e,a.inferredEvent))}catch(e){t._listeners.fireEvent("error",{type:"error",msg:"Error in ggpmPostProc(). Error postprocessing event - "+e.message})}}function U(e){try{var a=B({data:e,param:"nol_playerId"});fe&&fe.hasOwnProperty(a)&&(!fe[a].hasOwnProperty("nol_sessionId")||fe[a].hasOwnProperty("forceStreamRegen")&&!0===fe[a].forceStreamRegen)&&(fe[a].nol_sessionId=t.generateGUID(),fe[a].forceStreamRegen=!1)}catch(e){t._listeners.fireEvent("error",{type:"error",msg:"Error in calcStreamId - "+e.message})}}function j(a,n){var i=B({data:a,param:"nol_playerId"});if(i===n.id){if(!n.evtInfo||n.evtInfo.hasOwnProperty("param1")&&(null===n.evtInfo.param1||void 0===n.evtInfo.param1))return void t._listeners.fireEvent("error",{type:"error",msg:"Error in handleGgpm - Invalid Param1 passed"});var s=n.evtInfo,l=s.param1,d=s.param3?s.param3:l.hasOwnProperty("param3")?l.param3:l,c=s.param2||"",p,u,m,f,v=r(B({data:a,param:"nolPriv_id3Count"}),"num"),_,y,h,P=B({data:a,param:"nol_segmentSpentViewing"}),S=B({data:a,param:"nol_enableFilterMap"}),T="|mtvr|,|dprid3|,|id3|",L,b,E={filters:{onId3PcCidChanged:!1,onId3FdCidChanged:!1},count:0,filterType:"old"},k,D,A,N=B({data:a,param:"nol_prod"}),j,Q={},K=s.eventType.toString(),W,H="content",X,Y,$,Z=B({data:a,param:"nolPriv_serverTimeOffset"}),ee=Ee[i]||{},te=ee.nol_vidtype?ee.nol_vidtype.clientField:"nol_vidtype",ae=ee.nol_tagSrc?ee.nol_tagSrc.clientField:"nol_tagSrc",ne=ee.nol_ac?ee.nol_ac.clientField:"nol_ac",re=ee.nol_linearAdLoadFlag?ee.nol_linearAdLoadFlag.clientField:"nol_linearAdLoadFlag",oe=d[te]?d[te].toString().toLowerCase():"",ie=Math.round(Be()/1e3),se="nol_assetid",le=xe.findPlayer(a),de={},ce=V(a,{currEvtType:K,_param1:l,_param3:d});switch(K=K.toLowerCase()){case"3":case"14":case"15":case"loadmetadata":case"staticstart":case"pauseloadmeta":if(("14"===K||"staticstart"===K)&&"dcrstatic"!==B({data:a,param:"nol_product"}))return;if("14"!==K&&"staticstart"!==K&&"dcrstatic"===B({data:a,param:"nol_product"}))return;if("pauseloadmeta"===K&&a.isProductOf("vrivideo"))return;var pe=","+B({data:a,param:"nol_contentType"});a._currVidType=oe&&-1!==pe.indexOf(","+oe)?"content":"dcrstatic"===B({data:a,param:"nol_product"})?"static":"ad";var ue=null,me=null,ve=xe.cms.parse(ee.nol_assetid,a,{metadata:d,defaultKey:"nol_assetid",silent:!0});if(("ad"===B({data:a,param:"nol_ac"})&&B({data:a,param:"nol_segmentTimeSpent"})>0&&"streamduration"===B({data:a,param:"nol_cadence"})||"stream"===B({data:a,param:"nol_cadence"})&&"dcrstatic"===B({data:a,param:"nol_product"})||"dcrstatic"===B({data:a,param:"nol_product"})&&String(a._currAssetid)!==ve)&&x(a),!0===B({data:a,param:"nol_onCompleteFired"})?("content"!==a._currVidType&&"static"!==a._currVidType||("content"===a._currVidType.toLowerCase()&&fe[i].hasOwnProperty("forceStreamRegen")&&!0===fe[i].forceStreamRegen&&U(a),B({data:a,param:se,val:-1}),"content"===a._currVidType?(ue=xe.state.clone(a),me=Ne.clone(a),z({data:a,savedVals:["nol_nielsenAdSupportFlg"],savedReplayParams:de})):z({data:a,resetStatic:!0})),B({data:a,param:"nol_onCompleteFired",val:!1})):"14"!==K&&"staticstart"!==K||"stream"!==B({data:a,param:"nol_cadence"})||(B({data:a,param:se,val:-1}),z({data:a})),"ad"===a._currVidType&&a._dataArrObj[a._currVidType].hasOwnProperty(a._currAssetid)){B({data:a,param:"nol_minutes",val:o(B({data:a,param:"nol_segmentLength"}))}),B({data:a,param:se,val:-1}),B({data:a,param:te,val:oe}),"1"!==B({data:a,param:"nol_nielsenAdSupportFlg",vidType:"content"})&&B({data:a,param:"nol_nielsenAdSupportFlg",val:"1",vidType:"content"})}if(a._currAssetid=ve&&"daypart"===B({data:a,param:"nol_cadence"})||"stream"!==B({data:a,param:"nol_cadence"})&&"dcrstatic"===B({data:a,param:"nol_product"})?ve:a._currAssetid,d.nol_ac=a._currVidType,r(B({data:a,param:"nol_serverTime"}),"num")+86400<Math.round(Be()/1e3)+Z)return x(a),void I(n,B({data:a,param:"nol_playerId"}));for(W=0,X=S.length;W<X;W+=1)p=ee[S[W]]?ee[S[W]].clientField:S[W],Q[S[W]]=String(d[p]||"");if(_=ve||B({data:a,param:"nolPriv_assetid"}),M(a,we.onCmsDetected,Q),"false"!==Q.nol_disabled||!d)return void("cms"!==a._currTagSrc&&(J(a,"loadMetadata",d),B({data:a,param:"nol_disabled",val:"true"})));if("static"===a._currVidType&&"dcrstatic"===B({data:a,param:"nol_product"})?(t._listeners.fireEvent("updateCmbStaticPage",{evtInfo:s,plid:i}),H="static"):H="content",_!==B({data:a,param:se})){if("ad"!==B({data:a,param:"nol_ac"})&&x(a),J(a,"loadMetadata",d),Object.keys(de).length>0){for(var ge in de)de.hasOwnProperty(ge)&&""!==de[ge]&&B({data:a,param:ge,val:de[ge]});de={}}if(B({data:a,param:"nolPriv_assetid",val:B({data:a,param:se})}),"15"!==K&&"loadmetadata"!==K||"id3"!==B({data:a,param:ae,vidType:"content"})||!1!==B({data:a,param:"nolPriv_dtvrHybrid",vidType:"content"})||B({data:a,param:"nolPriv_dtvrHybrid",val:!0,vidType:"content"}),M(a,we.onAssetIdChanged),"true"===B({data:a,param:"nol_disabled"}))return;if("drm"===B({data:a,param:"nol_product"}))a.serviceFlag.stn.need=!0;else if(a.serviceFlag.stn.need=!1,"true"===B({data:a,param:"nol_disabled"}))return;if(M(a,we.onComplete),ue&&xe.state.bind(a,ue),me&&Ne.bind(a,me),"true"===B({data:a,param:"nol_disabled"}))return}if("ad"===a._currVidType&&a.isProductOf(["dcrvideo","vrivideo"])&&"impression"!==B({data:a,param:"nol_cadence"})){B({data:a,param:"nol_timeSpentViewing"})[a._currVidType].nol_count++}a.isProductOf("vrivideo")&&"impression"===a.get("nol_cadence")&&(a.set("nol_vriEvent","start"),a.set("nol_startPos","")),B({data:a,param:"nol_pingStartTimeUTC",val:Math.round(Be()/1e3)}),-1!==N.indexOf("iag")&&w(a,a._currVidType,ee),("ad"===a._currVidType&&!a.isProductOf(["dcrvideo","vrivideo"])||"stream"===B({data:a,param:"nol_cadence"}))&&(B({data:a,param:"nol_pingCount",val:0}),B({data:a,param:"nolPriv_sendData",val:!0}),B({data:a,param:"nol_davState",val:"0"}),a.serviceFlag.stn.need||"content"===a._currVidType||"nol_cmsoffset"!==B({data:a,param:"nol_timer"})&&"nol_pageoffset"!==B({data:a,param:"nol_timer"})||C(0,a)),"14"!==K&&"staticstart"!==K||"dcrstatic"!==B({data:a,param:"nol_product"})||!0===le.static.started||(t.PLDCR.start(!0),le.static.started=!0);break;case"5":case"play":if("mtvr"===B({data:a,param:"nol_product"})){if(A=ee.nol_channelName?ee.nol_channelName.clientField:"nol_channelName",d[A]&&d[A].length>0)for(Y in d)d.hasOwnProperty(Y)&&B({data:a,param:Y,val:d[Y]})}else a.isProductOf(["dcrvideo","vrivideo"])&&(a._currVidType="content",Q={nol_vidtype:B({data:a,param:te,vidType:a._currVidType}),nol_tagSrc:B({data:a,param:ae,vidType:a._currVidType}),nol_linearAdLoadFlag:B({data:a,param:re,vidType:a._currVidType}),nol_ac:B({data:a,param:ne,vidType:a._currVidType})},M(a,we.onCmsDetected,Q));break;case"6":case"pause":F(a);break;case"7":case"stop":F(a);break;case"flush":var _e=a.get("nol_cadence");!a.isProductOf(["dcrvideo","dcrstatic"])||"interval"!==_e&&"streamduration"!==_e||(F(a,{flush:!0,save:!0}),a.isProductOf("dcrstatic")&&le.static.started&&(t.PLDCR.dcrTimer.reset(),a.set("nolPriv_currPos","0")));break;case"updateott":if(F(a),l&&l.hasOwnProperty("ottStatus")&&l.ottStatus.length>0){if(l.hasOwnProperty("kGCKMetadataNlsKeyOptout")&&l.hasOwnProperty("kGCKMetadataNlsKeyDeviceID")){var ye=l.kGCKMetadataNlsKeyOptout.toString().toLowerCase();B({data:a,param:"nol_userSessionId",val:l.kGCKMetadataNlsKeyDeviceID,vidType:"content"}),B({data:a,param:"nol_useroptout",val:"1"===ye||"true"===ye?"true":"false",vidType:"content"}),-1===ye.indexOf([1,"1","true",0,"0","false"])&&t._listeners.fireEvent("warn",{type:"warn",msg:"Warning: Invalid kGCKMetadataNlsKeyOptout value."})}for(var se in l)l.hasOwnProperty(se)&&(B({data:a,param:se,val:l[se],vidType:"content"}),le.ottStatusObj[se]=l[se]);we.onOTTDetected&&M(a,we.onOTTDetected)}break;case"57":case"56":case"end":case"oncomplete":case"staticend":if(("56"===K||"staticend"===K)&&"dcrstatic"!==B({data:a,param:"nol_product"}))return;if("56"!==K&&"staticend"!==K&&"dcrstatic"===B({data:a,param:"nol_product"}))return;if(a.isProductOf("vrivideo")&&("57"===K||"end"===K)&&("sessionReset"===c||"modcadence"!=a.get("nol_cadence")))return;if(!("57"!==K&&"oncomplete"!==K||"mtvr"!==B({data:a,param:"nol_product"})&&"id3"!==B({data:a,param:ae,vidType:"content"})||!0===B({data:a,param:"nolPriv_dtvrHybrid",vidType:"content"})))return;if("ad"===a._currVidType&&("streamduration"===B({data:a,param:"nol_cadence"})?O(a):a.isProductOf(["dcrvideo"])&&"interval"===B({data:a,param:"nol_cadence"})&&(""===B({data:a,param:"nol_dataDate",vidType:"content"})&&""!==B({data:a,param:"nol_dataDate"})&&(B({data:a,param:"nol_dataDate",val:B({data:a,param:"nol_dataDate"}),vidType:"content"}),B({data:a,param:"nol_hourCode",val:B({data:a,param:"nol_hourCode"}),vidType:"content"}),B({data:a,param:"nol_dayId",val:B({data:a,param:"nol_dayId"}),vidType:"content"})),a._currVidType="content",we.onEndDetected&&M(a,we.onEndDetected),O(a))),a.isProductOf("vrivideo")&&"modcadence"===a.get("nol_cadence")){if("NaN"===parseInt(a.get("nol_length")).toString())return;if(!(a.get("nol_currPos")>=a.get("nol_length")))return;a.set("nol_vriEvent","ended")}"static"!==B({data:a,param:"nol_ac"})&&(a._currVidType="content"),we.onEndDetected&&M(a,we.onEndDetected),B({data:a,param:"nol_forceFireOnClose_content",val:"1"}),"false"!==B({data:a,param:"nol_disabled"})&&"id3"!==B({data:a,param:"nol_product"})||("static"===B({data:a,param:"nol_ac"})&&t._listeners.fireEvent("removeCmbAssetId",s),x(a)),B({data:a,param:"nol_onCompleteFired",val:!0}),fe[i].forceStreamRegen=!0,"56"!=K&&"staticend"!=K||"dcrstatic"!==B({data:a,param:"nol_product"})||(t.PLDCR.stop(),le.static.started=!1),"57"!==K&&"oncomplete"!==K||B({data:a,param:"nolPriv_dtvrHybrid",val:!1,vidType:"content"});break;case"48":case"setpageduration":case"pageduration":case"staticposition":if("true"===B({data:a,param:"nol_disabled"})||!l||"nol_pageoffset"!==B({data:a,param:"nol_timer"}))return;"1"===B({data:a,param:"nol_onPaginateFired_static"})&&(B({data:a,param:"nol_onPaginateFired",val:"0",vidType:"static"}),"impression"!==B({data:a,param:"nol_cadence"})&&q(a,{vidType:"static"})),$=r(B({data:a,param:"nol_highWM"}),"num"),$<r(l,"num")&&B({data:a,param:"nol_highWM",val:l}),C(l,a),B({data:a,param:"nol_davState",val:"1"});break;case"49":case"setplayheadposition":case"playheadposition":if(l>-1){if(!0===B({data:a,param:"nol_onCompleteFired"})&&t._listeners.fireEvent("flushPauseEventQueue"),"true"===B({data:a,param:"nol_disabled"})||!l||"nol_cmsoffset"!==B({data:a,param:"nol_timer"})||"ad"===a._currVidType&&a.isProductOf(["dcrvideo","vrivideo"])&&"impression"===B({data:a,param:"nol_cadence"}))return;if("number"!=typeof l){if("string"!=typeof l)return;l=r(l,"num")}if(a.isProductOf("vrivideo")){var he=Math.floor(l);"impression"===a.get("nol_cadence")&&1===he&&he<a.get("nolPriv_prevPos")&&(a.set("nol_pingCount",0),a.set("nol_currPos","")),"modcadence"===a.get("nol_cadence")&&a.set("nol_vriEvent","loop")}B({data:a,param:"nol_isLive",val:(l>86400).toString()}),$=r(B({data:a,param:"nol_highWM"}),"num"),$<l&&B({data:a,param:"nol_highWM",val:l}),a.serviceFlag.stn.need?(B({data:a,param:"nol_queueTime",val:l}),R(a,{service:"stn",key:B({data:a,param:"nol_assetid"}),url:B({data:a,param:"nol_stationURL"}),nol_playerId:B({data:a,param:"nol_playerId"})})):C(l,a),B({data:a,param:"nol_davState",val:"1"})}else n.timeStamp&&!Re[n.timeStamp]&&(Re[n.timeStamp]=g(a,{type:15,msg:"A negative playhead position was sent and will be ignored."},void 0,!0),Re[n.timeStamp]&&t._listeners.fireEvent("warn",{type:"warn",msg:"Warning: A negative playhead position was sent and will be ignored."}));break;case"55":case"sendid3":if(("object"==typeof l&&Object.keys(l).length>0||"string"==typeof l&&l.length>0)&&(!0===B({data:a,param:"nol_onCompleteFired"})&&le&&le.getPauseQueueCount&&le.getPauseQueueCount()>0?t._listeners.fireEvent("flushPauseEventQueue"):!0===B({data:a,param:"nol_onCompleteFired"})&&le&&!le.getPauseQueueCount&&t._listeners.fireEvent("flushPauseEventQueue"),"object"==typeof l))for(X=0;X<l.length;X+=1)if(l[X].key&&"PRIV"===l[X].key){l=l[X].info;break}if(b=l.toString(),249!==b.length&&n.timeStamp&&!Re[n.timeStamp]&&(Re[n.timeStamp]=!0,e.console&&e.console.warn&&e.console.warn("Warning: ID3 tag length is not 249."),t._listeners.fireEvent("warn",{type:"warn",msg:"ID3 tag length is not 249."})),L=b.split("/"),l={},L.length<r(Me.nol_breakout,"num"))return;for(Y in Me)Me.hasOwnProperty(Y)&&(l[Y]=L[Me[Y]],"nol_breakout"===Y&&(l[Y]=L[r(Me[Y],"num")].substr(0,2)),Q[Y]=l[Y]);if(!l||B({data:a,param:"nol_tsvBreakoutMap"})&&-1===B({data:a,param:"nol_tsvBreakoutMap"}).enable.indexOf(l.nol_breakout)||-1===l.nol_nWebAddress.indexOf("nielsen.com")||l.nol_fdcid===B({data:a,param:"nol_cidNull"})&&l.nol_pccid===B({data:a,param:"nol_cidNull"}))return;for(a._currVidType="content",W=0,X=S.length;W<X;W+=1)p=ee[S[W]]?ee[S[W]].clientField:S[W],Q[S[W]]=l[p]||B({data:a,param:S[W]});if(Q.nol_vidtype="content",M(a,we.onId3Detected,Q),"false"!==Q.nol_disabled||"nol_cmsoffset"===B({data:a,param:"nol_timer"}))return;if("daypart"===B({data:a,param:"nol_cadence"})){var Pe=B({data:a,param:"nol_assetid"})||a._currAssetid;!Pe&&l.nol_fdcid&&l.nol_fdcid!==B({data:a,param:"nol_cidNull"})?a._currAssetid=l.nol_fdcid:!a._currAssetid&&Pe&&(a._currAssetid=Pe)}if(l.nol_ac=a._currVidType,l.nol_assetid=B({data:a,param:"nol_assetid"})||a._currAssetid,v>0&&(-1!==B({data:a,param:"nol_product"}).indexOf("id3")||-1!==B({data:a,param:"nol_product"}).indexOf("mtvr"))&&(l.nol_pccid!==B({data:a,param:"nol_cidNull"})&&l.nol_pccid!==B({data:a,param:"nol_pccid"})||l.nol_fdcid!==B({data:a,param:"nol_cidNull"})&&l.nol_fdcid!==B({data:a,param:"nol_fdcid"}))&&O(a),!B({data:a,param:"nol_subTag"})&&"id3"!==B({data:a,param:"nol_product"})||l.nol_pccid===B({data:a,param:"nol_cidNull"})||l.nol_pccid===B({data:a,param:"nol_pccid"})||(E.filters.onId3PcCidChanged=!0,E.count+=1),B({data:a,param:"nol_subTag"})||l.nol_fdcid===B({data:a,param:"nol_cidNull"})||l.nol_fdcid===B({data:a,param:"nol_fdcid"})||(E.filters.onId3FdCidChanged=!0,E.count+=1),E.count){if(J(a,"sendID3",l),!E.filters.onId3FdCidChanged&&B({data:a,param:"nol_fdcid"})!=B({data:a,param:"nol_cidNull"})||-1===B({data:a,param:"nol_tsvBreakoutMap"}).enable.indexOf(l.nol_breakout)||(a.serviceFlag.tsv.need=!0),E.count>0)for(Y in E.filters)if(E.filters[Y]&&(M(a,we[Y]),"true"===B({data:a,param:"nol_disabled"})))return;if(we.onComplete&&(M(a,we.onComplete),"true"===B({data:a,param:"nol_disabled"})))return}else for(Y in l)l.hasOwnProperty(Y)&&B({data:a,param:Y,val:l[Y]});if(B({data:a,param:"nol_id3Raw",val:b}),a.serviceFlag.tsv.need&&-1!==T.indexOf("|"+B({data:a,param:"nol_product"})+"|")&&(D=B(!0===E.filters.onId3PcCidChanged?{data:a,param:"nol_pccid"}:{data:a,param:"nol_fdcid"}),R(a,{service:"tsv",key:D,url:B({data:a,param:"nol_tsvURL"})})),"id3"===B({data:a,param:"nol_product"})&&l.nol_watermark&&String(l.nol_watermark).length>0)return y=B({data:a,param:"nol_id3Data"}),h=Math.round(Be()/1e3+Z),j=B({data:a,param:"nol_id3Seq"})||0,y?B({data:a,param:"nol_id3Data",val:y+="|"+h+","+B({data:a,param:"nol_id3Raw"})}):(B({data:a,param:"nol_id3Data",val:j+":"+B({data:a,param:"nol_clocksrc"})+":"+B({data:a,param:"nol_tsvFlag"})+":"+h+","+B({data:a,param:"nol_id3Raw"})}),B({data:a,param:"nol_id3Seq",val:r(j,"num")+1,vidType:"content"})),v>0&&O(a,{returnLength:!0}),v+=1,B({data:a,param:"nolPriv_id3Count",val:v}),void B({data:a,param:"nol_davState",val:"1"});if(v+=1,B({data:a,param:"nolPriv_id3Count",val:v}),k=B({data:a,param:B({data:a,param:"nol_timer"})})||B({data:a,param:"nol_fdoffset"}),"daypart"===B({data:a,param:"nol_cadence"})&&(k=r(k,"num"),k+="nol_pcoffset"==B({data:a,param:"nol_timer"})?r(B({data:a,param:"nol_pcTimeCode"}),"num"):r(B({data:a,param:"nol_fdTimeCode"}),"num")),a.serviceFlag.tsv.need)B({data:a,param:"nol_queueTime",val:k});else{if("true"===B({data:a,param:"nol_disabled"}))return;C(k,a),B({data:a,param:"nol_davState",val:"1"})}break;case"60":case"mute":break;case"30":case"onpaginate":"dcrstatic"===B({data:a,param:"nol_product"})&&we.onPaginateDetected&&"stream"!==B({data:a,param:"nol_cadence"})&&M(a,we.onPaginateDetected),B({data:a,param:"nol_onPaginateFired",val:"1",vidType:"static"});break;case"35":case"updatemetadata":if("dcrvideo"===B({data:a,param:"nol_product"})){xe.updateMetadata(a,d,ee);var Se=B({data:a,param:"nol_adLoadType",vidType:"content"});""!==Se&&void 0!==Se&&null!==Se&&M(a,we.onAdLoadFlag)}}G(a,ce)}}function Q(e){var t,a=null,n="content"==e._currVidType?r(B({data:e,param:"nol_chnlCountThrshld"}),"num")||de:r(B({data:e,param:"nol_staticCountThrshld"}),"num")||de,o=e._dataArrObj[e._currVidType],i,s=0,l=e._dataArrObj.count;if(!e._dataArrObj[e._currVidType].hasOwnProperty(e._currAssetid)){if(l[e._currVidType]>=n){for(i in o)if(o.hasOwnProperty(i)){if((s=o[i].nolPriv_priority)<=0){t=i;break}(null===a||a>s)&&(a=s,t=i)}o.hasOwnProperty(t)&&(delete o[t],l[e._currVidType]-=1)}e._dataArrObj[e._currVidType][e._currAssetid]={nolPriv_priority:0},l[e._currVidType]+=1}}function z(e){try{if(!e||!e.hasOwnProperty("data"))return;if(e.hasOwnProperty("savedVals")&&e.hasOwnProperty("savedReplayParams"))if(Array.isArray(e.savedVals))for(var a in e.savedVals)e.savedVals.hasOwnProperty(a)&&(e.savedReplayParams[e.savedVals[a]]=B({data:e.data,param:e.savedVals[a]}));else"string"==typeof e.savedVals&&(e.savedReplayParams[e.savedVals]=B({data:e.data,param:e.savedVals}));e.hasOwnProperty("resetStatic")&&!0===e.resetStatic&&(e.data._dataArrObj.static={}),e.data._dataArrObj.ad={},e.data._dataArrObj.content={},e.data._dataArrObj.count={content:0,ad:0,static:0},e.data._currAssetid="0"}catch(e){t._listeners.fireEvent("error",{type:"error",msg:"Error in resetDataObj"+e})}}function K(e){try{var a=B({data:e,param:"nol_playerId"});if(a&&t._players&&t._players.hasOwnProperty(a)){var n=t._players[a];if(n&&Object.keys(n.ottStatusObj).length>0){var r;for(r in n.ottStatusObj)B({data:e,param:r,val:n.ottStatusObj[r],vidType:"content"})}}}catch(e){t._listeners.fireEvent("error",{type:"error",msg:"Error in populateOttStatus"+e})}}function q(e,a){try{if("1"===B({data:e,param:"nol_unifiedEnabled"})){var n=a&&a.hasOwnProperty("vidType")?a.vidType:e._currVidType.toLowerCase(),o=r(B({data:e,param:"nol_viewCount_"+n}),"num");B({data:e,param:"nol_viewCount_"+n,val:o+=1}),"1"===B({data:e,param:"nol_applyViewInc"})&&B({data:e,param:"nol_applyViewInc",val:"0"})}}catch(e){t._listeners.fireEvent("error",{type:"error",msg:"Error in incViewCnt"+e})}}function J(e,t,a){xe.extendfData(e);var n="",r,o,i="nol_minutes, nol_tagPresence, nol_pingCount, nol_currSeg, nol_segmentTimeSpent, nol_cumeTimeSpent, nol_count",s=B({data:e,param:{}}),l,d,c=B({data:e,param:"nol_playerId"});if(Q(e),"ad"===e._currVidType.toLowerCase()&&(n="st,a",B({data:e,param:"nol_currSeg",val:"0"})),""===B({data:e,param:"nol_errorURL"})&&B({data:e,param:"nol_errorURL",val:re+ne+ie+"?message=|![nol_errorMessage]!|"}),"loadMetadata"===t)for(r in s)s.hasOwnProperty(r)&&-1===i.indexOf(r)&&B({data:e,param:r,val:A({data:e,param:r})||""});for(r in a)a.hasOwnProperty(r)&&B({data:e,param:String(r),val:String(a[r])});B({data:e,param:"nolPriv_sendData",val:!0}),B({data:e,param:"nol_davState",val:"0"}),B({data:e,param:"nol_highWM",val:"0"}),B({data:e,param:"nol_iagData",val:""}),B({data:e,param:"nol_disabled",val:"false"}),B({data:e,param:"nol_sendQual",val:A({data:e,param:"nol_sendQual"})||""}),B({data:e,param:"nolPriv_assetid",val:""}),"S"===A({data:e,param:"nol_segmentPrefix"})&&B({data:e,param:"nol_segmentPrefix",val:"S"}),B({data:e,param:"nol_c3"})||B({data:e,param:"nol_c3",val:n}),"content"===e._currVidType.toLowerCase()&&U(e),B({data:e,param:"nol_applyViewInc",val:"1"}),(!B({data:e,param:"nol_minutes"})||"daypart"!==B({data:e,param:"nol_cadence"})&&"dcrstatic"!==B({data:e,param:"nol_product"})||"dcrstatic"===B({data:e,param:"nol_product"})&&"stream"===B({data:e,param:"nol_cadence"}))&&(L(e),B({data:e,param:"nol_pingCount",val:0}));var p=B({data:e,param:"nol_adLoadType",vidType:"content"});""!==p&&void 0!==p&&null!==p&&M(e,we.onAdLoadFlag),K(e)}function W(a,r){var o=r.id||r.getId?r.getId():"0",i=fe[o].nol_tagMap.nol_url,s,l,d,p=0,u=i?i[a.nol_url]||a.nol_url||"":a.nol_url||"",m={stn:{need:!1,callback:"nol_stnevt"},tsv:{need:!1,callback:"nol_tsvevt"}},f={ad:{},content:{},static:{},count:{content:0,static:0}},v={nol_disabled:"true",nol_errorMessage:"none",nol_vidtype:"",nol_muteState:"0",nol_volumeLevel:"100",nol_clockSource:"D",nol_aggregate:"1",nol_pingCount:"0",nol_intrvlThrshld:"90",nol_id3IntrvlGp:"15",nolPriv_sendData:!0,nol_timer:"nol_fdoffset",nol_isLive:"false",nolPriv_errorSent:"",nolPriv_id3Count:0,nolPriv_cmsMap:{},nol_timeSpentViewing:{ad:{nol_cumeTimeSpent:0,nol_segmentTimeSpent:0,nol_count:0},content:{nol_cumeTimeSpent:0,nol_segmentTimeSpent:0,nol_count:0},static:{nol_cumeTimeSpent:0,nol_segmentTimeSpent:0,nol_count:0}},nol_enableFilterMap:["nol_vidtype","nol_tagSrc","nol_linearAdLoadFlag","nol_ac"],nol_xorSeed:"N!3ls3nBL",nol_currSeg:"0",nol_minWonOverride:"0",nol_customExtension:["nol_legacyCustom"],nol_pingCreationTime:"0",nol_pingSendTime:"0",nol_clientUrl:e.location.href,nol_sendTime:"0",nol_pageURL:e.location.href.replace(/\"/g,"").replace(/\'/g,"").replace(/%27/g,"").replace(/%22/g,""),nol_referrerURL:e.document.referrer.replace(/\"/g,"").replace(/\'/g,"").replace(/%27/g,"").replace(/%22/g,""),nol_random:Math.round(1e9*Math.random()),nol_ottStatus:"0",nol_ottType:"none",nol_ottDevice:"NA",nol_ottDeviceName:"NA",nol_ottDeviceID:"NA",nol_ottDeviceManufacturer:"NA",nol_ottDeviceModel:"NA",nol_ottDeviceVersion:"NA",nol_onPaginateFired:"0",nol_forceFireOnClose:"0",nol_applyViewInc:"0"},g=a;g.nol_playerId=o;var _={_dataArrObj:f,_settings:g,_currVidType:"ad",_currAssetid:"0",serviceFlag:m};xe.extendfData(_),t._listeners.addListener("tick",function(){if(r.pauseObj.eventPauseTime>=r.pauseObj.cmsPauseTime&&xe.state.status.current(_)!==xe.states.stopped&&xe.state.status.current(_)!==xe.states.paused&&Ne.isEnabled(_)){var e={event:Fe.events.pause,curPos:xe.state.position.current(_),prevPos:null,timestamp:xe.state.timeStamp.current(_)};xe.state.set(_,e),Ne.preProcess(_,e),r.pauseObj.eventPauseTime=0}r.pauseObj.pauseTime>r.pauseObj.maxPauseTime&&"dcrstatic"!==B({data:_,param:"nol_product"})&&"vrivideo"!==B({data:_,param:"nol_product"})&&(r.pauseObj.pauseTime=0,t._listeners.fireEvent("handleSessionReset",{plid:o,passedFdata:_}),t._listeners.fireEvent("debug",{type:"debug",msg:"Max pause time reached. Just fired handleSessionReset."}))}),z({data:_});for(d in v)a.hasOwnProperty(d)?g[d]=a[d]:g[d]=fe[o][d]||v[d];if(g.nol_customExtension&&u){for(s=0,l=g.nol_customExtension.length;s<l;s+=1)u=u.replace("|!["+g.nol_customExtension[s]+"]!|",fe[o][g.nol_customExtension[s]]||"");g.nol_url=u}if("true"!==B({data:_,param:"nol_fireStop"})&&-1==="interval,episode,streamduration".indexOf(B({data:_,param:"nol_cadence"}))||n("pagehide||beforeunload",function(t){Pe&&(e.clearInterval(Pe),Pe=0,c({serverTimeOffset:B({data:_,param:"nolPriv_serverTimeOffset"}),url:"__sendIt",maskRef:B({data:_,param:"nol_rfrmsk"})})),"sendBeacon"in navigator&&(De=!0),B({data:_,param:"nol_forceFireOnClose_content",val:"1"}),we.onEndDetected&&M(_,we.onEndDetected),Ne.setNextTick(_,null,"content"),x(_)}),this.eventListener=function(e){j(_,e)},fe[o].eventQueue.length>p)for(s=0;s<fe[o].eventQueue.length;s+=1)fe[o]&&fe[o].eventQueue&&(fe[o].eventQueue[s].timeStamp="queued"+s),j(_,fe[o].eventQueue[s]),p=s}function H(a){a&&a.hasOwnProperty("configReq")&&a.hasOwnProperty("player")&&a.configReq.length>0&&void 0!==a.player?(s(a.configReq),e.clearInterval(a.player.lsPopulatedInterval),a.player.lsPopulatedInterval=0):t._listeners.fireEvent("error",{type:"error",msg:"Error in handleConfigRequest. Args is null or missing configReq or player."})}function X(e,t){if(e&&t)for(var a=e.match(pe.regex),n="",r=0;r<a.length;r++)(n=a[r].match(/\w+/gi))&&n.length>0&&(e=e.replace(a[r],t[n[0]]||""));return e}var Y=t.PLDPR=t.PLDPR||{},$=e.NOLBUNDLE,Z=$.sdkvForConfig?$.sdkvForConfig():"bj.6.0.0",ee="6.0.0",te="26",ae=t.getBaseBuildVer?t.getBaseBuildVer()+"26":"6.0.026",ne="cgi-bin/",re=$.getConfigAddress?$.getConfigAddress():$.getAddress(),oe="cfg",ie="error",se=t.getLS(),le=t.getConfigVer?t.getConfigVer():300,de=5,ce={"[":{end:"]",count:0},"{":{end:"}",count:0},"<":{end:/\.\d+,\d+\>/g,count:0}},pe={regex:/\|\![\w\W]*?(\!\|)/g,length:2},ue=/[\[\{<\(\}\]>\)]/g,me=new RegExp(/(.*?)(_content|_ad|_static)?$/i),fe=Y.dataObj||{},ve=0,ge=0,_e=5,ye=5,he=[],Pe,Se=2,Te=!1,Oe=[],Le="false",be=Le,Ce,Ee={},we={},ke={},Ie=!1,De=!1,Me,Ae={send:function(e,n){var r=e,o=-1!==r.url.indexOf("&c62=")?a(r.url,"c62=")+"&c62=sendTime,"+(void 0!==n?n:Be()/1e3>>0):r.url,i=this,s=a(o,"rnd=")+"&rnd="+Math.round(1e6*Math.random()),l=De?{onerror:{},onload:{}}:new Image;l.onerror=function(e){i.onError(e,r)},t.postMsgAvail&&r.hasOwnProperty("maskRefUrl")&&-1!==r.maskRefUrl&&"true"===r.maskRefUrl?Ve.sendMaskedPing(s):De?navigator.sendBeacon(s):l.src=s},setup:function(e){var t=this,a=e.hasOwnProperty("url")?e.url:"",n=e.params||{url:a,errorDelay:1e3*(e.delay||ye),retry:0,maskRefUrl:e.hasOwnProperty("maskRefUrl")&&String(e.maskRefUrl).length>0?e.maskRefUrl:-1};a&&a.length>0&&t.send(n,e.pingSendTime)},onError:function(t,a){var n=this,r=t.target.src;a&&a.retry<_e&&r&&r.length>0&&(a.retry+=1,a.url=r,e.setTimeout(function(){n.send(a)},a.errorDelay))}},Be=$.getTIme||function(){return(new Date).getTime()},Re={},Ne=function(){var e="nol_eventData",t="nol_eventDataDelimiter",a="nol_eventDataEvents",n="nol_eventDataEnabled",r=":",o={delimiter:"",eventsList:[]},i=function(){return{play:{name:"play",abbrv:"PL"},pause:{name:"pause",abbrv:"PU"},rewind:{name:"rewind",abbrv:"RW"},forward:{name:"forward",abbrv:"FW"},stop:{name:"stop",abbrv:"ST"},resume:{name:"resume",abbrv:"RE"},mute:{name:"mute",abbrv:"MT"}}}(),s={get:function(t,a){var n="";return t&&(n=B({data:t,param:e,vidType:a||t._currVidType})),n},set:function(t,a,n){return t&&B({data:t,param:e,val:a,vidType:n||t._currVidType}),t},clear:function(t){t&&(B({data:t,param:e,val:"",vidType:"ad"}),B({data:t,param:e,val:"",vidType:"content"}))},clone:function(e){try{return{content:s.get(e,"content"),ad:s.get(e,"ad")}}catch(e){return null}},bind:function(e,t){try{if(e&&t)for(var a in t)s.set(e,t[a],a)}catch(e){}},append:function(e,t){if(e&&t){var a=s.get(e),n=s.delimiter(e),r=s.parseEventData(t);s.set(e,a?[a,r].join(n):r)}},delimiter:function(e){return e?(o.delimiter||(o.delimiter=B({data:e,param:t})),o.delimiter):""},isEnabled:function(e){return!!e&&"true"===B({data:e,param:n})},isEventEnabled:function(e,t){if(t&&e){var a=s.lookupEvent(e.toLowerCase());if(a)return s.eventsList(t).indexOf(a.name)>-1}return!1},eventsList:function(e){if(e){if(!o.eventsList||0==o.eventsList.length){var t=B({data:e,param:a});t&&(o.eventsList=t.split(","))}return o.eventsList}},clearCache:function(){o.delimiter="",o.eventsList=[]},lookupEvent:function(e){return e?i[e.toLowerCase()]:null},parseEventData:function(e){var t="";if(e){var a=s.lookupEvent(e.event);if(a){var n=[a.abbrv,e.timestamp,e.curPos];void 0!==e.prevPos&&null!==e.prevPos&&e.curPos!=e.prevPos&&n.push(e.prevPos),void 0!==e.p1&&null!==e.p1&&n.push(e.p1),t=n.join(":")}}return t},handleEvent:function(e,t){e&&t&&s.isEventEnabled(t.event,e)&&s.append(e,t)},setNextTick:function(e,t,a){var n=s.get(e,a);if(n&&n.indexOf("{{nextTick}}")>-1)if(t&&t.event===Fe.events.playhead)e=s.set(e,n.replace(/{{nextTick}}/gi,1==t.curPos?"0":t.curPos),a);else{var r=xe.state.position.current(e,a)||"0";e=s.set(e,n.replace(/{{nextTick}}/gi,r),a)}return e},preProcess:function(e,t){try{e&&t&&t.event&&t.event!==Fe.events.play&&-1===t.event.indexOf("event_")&&(s.setNextTick(e,t),t.event===Fe.events.stop&&"content"!==xe.type.current(e)&&s.setNextTick(e,t,"content"),s.handleEvent(e,t))}catch(e){}},postProcess:function(e,t){try{e&&t&&t.event&&t.event===Fe.events.play&&s.handleEvent(e,t)}catch(e){}}};return{get:s.get,set:s.set,clone:s.clone,bind:s.bind,clear:s.clear,append:s.append,isEnabled:s.isEnabled,isEventEnabled:s.isEventEnabled,preProcess:s.preProcess,postProcess:s.postProcess,setNextTick:s.setNextTick}}(),xe={_keys:{currentPosition:"nolPriv_currPos",currentTimestamp:"nolPriv_now",stateCurrentPosition:"nolPriv_stateCurrentPH",stateCurrentTimestamp:"nolPriv_stateCurrentTS",stateCurrentStatus:"nolPriv_stateCurrentStatus",stateCurrentAsset:"nolPriv_stateCurrentAsset",stateCurrentType:"nolPriv_stateCurrentType",statePreviousPosition:"nolPriv_statePreviousPH",statePreviousTimestamp:"nolPriv_statePreviousTS",statePreviousStatus:"nolPriv_statePreviousStatus",statePreviousAsset:"nolPriv_statePreviousAsset",statePreviousType:"nolPriv_statePreviousType",tagName:"nol_comment",localTimer:"nol_timer",assetId:"nol_assetid"},states:{loaded:"LOADED",playing:"PLAYING",paused:"PAUSED",stopped:"STOPPED"},findPlayer:function(e){if(e){if("string"==typeof e)return t._players[e];var a=B({data:e,param:"nol_playerId"});return xe.findPlayer(a)}return null},currentPosition:function(e){return r(B({data:e,param:xe._keys.currentPosition}),"num")},currentTimestamp:function(e){return r(B({data:e,param:xe._keys.currentTimestamp}),"num")},asset:{current:function(e){return e?e._currAssetid:null},parse:function(e,t){var a=Ee[e.get("nol_playerId")]&&Ee[e.get("nol_playerId")].nol_assetid?Ee[e.get("nol_playerId")].nol_assetid.clientField:"nol_assetid";return t?t[a]:null}},type:{isCurrentlyContent:function(e){return"content"===e._currVidType},isCurrentlyAd:function(e){return"ad"===e._currVidType},isCurrentlyStatic:function(e){return"static"===e._currVidType},current:function(e){return e._currVidType},parse:function(e,t){var a=Ee[e.get("nol_playerId")]||{},n=a.nol_vidtype?a.nol_vidtype.clientField:"nol_vidtype",r=t[n]?t[n].toString().toLowerCase():"",o=","+B({data:e,param:"nol_contentType"});return r&&-1!==o.indexOf(","+r)?"content":"dcrstatic"===B({data:e,param:"nol_product"})?"static":"ad"}},tagName:function(e,t){return B({data:e,param:xe._keys.tagName,vidType:t||e._currVidType})},localTimer:function(e,t){return B({data:e,param:xe._keys.localTimer,vidType:t||e._currVidType})||"nol_fdoffset"},isInitialized:function(e,t){try{return t=t||e._currVidType,"{}"!==JSON.stringify(e._dataArrObj[t])}catch(e){return!1}},updateMetadata:function(e,a,n){try{var r={nolParams:["nol_assetid","nol_assetName","nol_title","nol_vcTitle","nol_category","nol_channelName","nol_clientid","nol_vcid","nol_vidtype","nol_adLoadType"]},n=Ee[e.get("nol_playerId")]||{},o=function(e){var t=!0;for(var a in r.nolParams)if(n&&n.hasOwnProperty(r.nolParams[a])&&e===n[r.nolParams[a]].clientField){t=!1;break}return t};if(!e||!a)return
;var i=void 0!==n&&"object"==typeof n&&n;for(var s in a)a.hasOwnProperty(s)&&(i&&o(s)?B({data:e,param:String(s),val:String(a[s])}):t._listeners.fireEvent("warn",{type:"warn",msg:"Attempt to update metadata field "+s+" is not allowed. Please remove "+s+" from your metadata parameter."}))}catch(e){t._listeners.fireEvent("error",{type:"error",msg:"Failed to update metadata"})}},extendfData:function(e){"function"!=typeof e.get&&(e.isProductOf=function(e){return!!e&&("object"==typeof e?e.indexOf(B({data:this,param:"nol_product"}))>-1:B({data:this,param:"nol_product"})===e)},e.get=function(e,t){return B({data:this,param:e,vidType:t})},e.set=function(e,t){return B({data:this,param:e,val:t})})},state:{position:{current:function(e,t){return r(B({data:e,param:xe._keys.stateCurrentPosition,vidType:t||e._currVidType}),"num")},previous:function(e,t){return r(B({data:e,param:xe._keys.statePreviousPosition,vidType:t||e._currVidType}),"num")},set:function(e,t,a){var n=xe.state.position.current(e);B({data:e,param:xe._keys.statePreviousPosition,val:n,vidType:a||e._currVidType}),B({data:e,param:xe._keys.stateCurrentPosition,val:t,vidType:a||e._currVidType})}},timeStamp:{current:function(e,t){return r(B({data:e,param:xe._keys.stateCurrentTimestamp,vidType:t||e._currVidType}),"num")},previous:function(e,t){return r(B({data:e,param:xe._keys.statePreviousTimestamp,vidType:t||e._currVidType}),"num")},set:function(e,t,a){var n=xe.state.timeStamp.current(e);B({data:e,param:xe._keys.statePreviousTimestamp,val:n,vidType:a||e._currVidType}),B({data:e,param:xe._keys.stateCurrentTimestamp,val:t,vidType:a||e._currVidType})}},asset:{current:function(e,t){return B({data:e,param:xe._keys.stateCurrentAsset,vidType:t||e._currVidType})},previous:function(e,t){return B({data:e,param:xe._keys.statePreviousAsset,vidType:t||e._currVidType})},set:function(e,t,a){var n=xe.state.asset.current(e);B({data:e,param:xe._keys.statePreviousAsset,val:n,vidType:a||e._currVidType}),B({data:e,param:xe._keys.stateCurrentAsset,val:t,vidType:a||e._currVidType})}},status:{current:function(e,t){return B({data:e,param:xe._keys.stateCurrentStatus,vidType:t||e._currVidType})},previous:function(e,t){return B({data:e,param:xe._keys.statePreviousStatus,vidType:t||e._currVidType})},set:function(e,t,a){var n=xe.state.status.current(e,a);B({data:e,param:xe._keys.statePreviousStatus,val:n,vidType:a||e._currVidType}),B({data:e,param:xe._keys.stateCurrentStatus,val:t,vidType:a||e._currVidType})}},type:{current:function(e,t){return B({data:e,param:xe._keys.stateCurrentType,vidType:t||e._currVidType})},previous:function(e,t){return B({data:e,param:xe._keys.statePreviousType,vidType:t||e._currVidType})},set:function(e,t,a){var n=xe.state.type.current(e,a);B({data:e,param:xe._keys.statePreviousType,val:n,vidType:a||e._currVidType}),B({data:e,param:xe._keys.stateCurrentType,val:t,vidType:a||e._currVidType})}},set:function(e,t){var a=xe.findPlayer(e);switch(t.event){case"LOAD":xe.state.asset.set(e,t.assetId),xe.state.type.set(e,t.contentType),xe.state.timeStamp.set(e,t.timestamp);break;case"PLAY":case"RESUME":xe.state.status.set(e,xe.states.playing),xe.state.asset.set(e,t.assetId),xe.state.type.set(e,t.contentType),xe.state.timeStamp.set(e,t.timestamp),"PLAY"===t.event&&xe.state.position.set(e,0),"RESUME"===t.event&&void 0!=t.currentPos&&null!=t.currentPos&&"{{nextTick}}"!=t.currentPos&&(xe.state.position.set(e,t.curPos),xe.state.timeStamp.set(e,t.timestamp)),a.pauseObj.eventPauseTime=0;break;case"PAUSE":xe.state.status.set(e,xe.states.paused);break;case"STOP":xe.state.resetAsset(e),xe.state.status.set(e,xe.states.stopped);break;case"PLAYHEAD":xe.state.position.set(e,t.curPos),xe.state.timeStamp.set(e,t.timestamp),a.pauseObj.eventPauseTime=0;break;case"REWIND":case"FORWARD":xe.state.position.set(e,t.curPos),xe.state.timeStamp.set(e,t.timestamp),a.pauseObj.eventPauseTime=0;break;case"MUTE":break;case"event_play":a.pauseObj.eventPauseTime=0}},get:function(e,t){try{if(e){return{position:{current:xe.state.position.current(e,t),previous:xe.state.position.previous(e,t)},timeStamp:{current:xe.state.timeStamp.current(e,t),previous:xe.state.timeStamp.previous(e,t)},asset:{current:xe.state.asset.current(e,t),previous:xe.state.asset.previous(e,t)},status:{current:xe.state.status.current(e,t),previous:xe.state.status.previous(e,t)},type:{current:xe.state.type.current(e,t),previous:xe.state.type.previous(e,t)}}}}catch(e){}return null},resetAsset:function(e){xe.state.position.set(e,null),xe.state.timeStamp.set(e,null),xe.state.asset.set(e,null)},bind:function(e,t){try{if(e&&t)for(var a in t)B({data:e,param:xe._keys.statePreviousPosition,val:t[a].position?t[a].position.previous:null,vidType:a}),B({data:e,param:xe._keys.stateCurrentPosition,val:t[a].position?t[a].position.current:null,vidType:a}),B({data:e,param:xe._keys.statePreviousTimestamp,val:t[a].timeStamp?t[a].timeStamp.current:null,vidType:a}),B({data:e,param:xe._keys.stateCurrentTimestamp,val:t[a].timeStamp?t[a].timeStamp.current:null,vidType:a}),B({data:e,param:xe._keys.statePreviousAsset,val:t[a].asset?t[a].asset.current:null,vidType:a}),B({data:e,param:xe._keys.stateCurrentAsset,val:t[a].asset?t[a].asset.current:null,vidType:a}),B({data:e,param:xe._keys.statePreviousStatus,val:t[a].status?t[a].status.current:null,vidType:a}),B({data:e,param:xe._keys.stateCurrentStatus,val:t[a].status?t[a].status.current:null,vidType:a}),B({data:e,param:xe._keys.statePreviousType,val:t[a].type?t[a].type.current:null,vidType:a}),B({data:e,param:xe._keys.stateCurrentType,val:t[a].type?t[a].type.current:null,vidType:a})}catch(e){}},clone:function(e){try{return{content:xe.state.get(e,"content"),ad:xe.state.get(e,"ad")}}catch(e){}}},cms:{parse:function(e,t,a){var n={metadata:(a?a.metadata:null)||{},defaultKey:(a?a.defaultKey:"")||"",silent:(a?a.silent:null)||!1,noClone:(a?a.noClone:null)||!1,vidType:a?a.vidType:"",noEncode:!(!a||!0!==a.noEncode)},r=e&&e.clientField?e.clientField:n.defaultKey;if(r&&t){if(n.metadata&&n.metadata.hasOwnProperty(r)&&n.metadata[r])return n.metadata[r];if(e&&e.clientField){if(n.end)return t.get(e.clientField,a?a.vidType:"");var o=t;!0!==n.noClone&&(o=JSON.parse(JSON.stringify(t)),J(o,"loadmetadata",n.metadata));var i=[];return!0===n.noEncode?i=[r]:(i=(e.encoding||"").split(""),i.splice(i.length/2,0,r)),n.end=!0,v(o,"|!"+i.join("")+"!|",null,n)}}return""}}},Fe=function(){var e={load:"LOAD",play:"PLAY",pause:"PAUSE",stop:"STOP",resume:"RESUME",rewind:"REWIND",forward:"FORWARD",playhead:"PLAYHEAD",mute:"MUTE",unmute:"UNMUTE"},a={checkRewind:function(e,t){if(e&&void 0!==t&&null!==t&&"stream"!==B({data:e,param:"nol_cadence"})&&"impression"!==B({data:e,param:"nol_cadence"})){var a=Math.floor(r(t,"num")),n=xe.state.position.current(e);return{match:a-n<0,currentPos:a,previousPos:n}}return!1},checkForward:function(e,t){if(e&&void 0!==t&&null!==t&&"stream"!==B({data:e,param:"nol_cadence"})&&"impression"!==B({data:e,param:"nol_cadence"})){var a=Math.floor(r(t,"num")),n=xe.state.position.current(e),o=xe.state.timeStamp.current(e),i=r(B({data:e,param:"nol_cmsIntrvlGp"}),"num")||2,s=Math.ceil(Be()/1e3-o)||1;if(0==n&&a>86400&&"nol_cmsoffset"===xe.localTimer(e)){var l=Math.round(Be()/1e3).toString().substr(0,t.toString().length);l&&(n=parseInt(l))}var d=a-n;return{match:d>i&&d>Math.ceil(1.5*s),currentPos:a,previousPos:n}}return!1}},n={checkRewind:function(e,t){var a=xe.currentPosition(e),n=xe.currentTimestamp(e),o=r(B({data:e,param:"nol_id3IntrvlGp"}),"num");return!1},checkForward:function(e,t){var a=xe.currentPosition(e),n=xe.currentTimestamp(e),o=r(B({data:e,param:"nol_id3IntrvlGp"}),"num");return!1}};return{events:e,inferEvent:{inferEvent:function(n,o,i,s,l){var d=null;try{if(d={event:"event_"+n,curPos:xe.state.position.current(o),prevPos:null,timestamp:s},n&&o)switch(n.toLowerCase()){case"3":case"15":case"loadmetadata":case"pauseloadmeta":var c=xe.asset.parse(o,l),p=xe.state.asset.current(o),u=xe.state.asset.previous(o),m=xe.state.type.current(o),f=xe.type.parse(o,l);if(d.event=e.load,d.assetId=c,d.contentType=f,xe.state.status.current(o,f)==xe.states.paused&&(p==c&&null!==c||m!==f)){d.event=e.resume,d.assetId=c,d.contentType=f,d.curPos="{{nextTick}}";break}if(xe.state.status.current(o,f)!==xe.states.playing&&p!=c||xe.state.status.current(o,f)===xe.states.stopped&&u==c&&null!==c||null===p){d.event=e.play,d.curPos="{{nextTick}}";break}break;case"5":case"play":d.event="event_play";break;case"7":case"stop":d.event="event_stop";break;case"57":case"end":case"oncomplete":d.event=e.stop;break;case"49":case"setplayheadposition":case"playheadposition":if(i>-1){var v=a.checkRewind(o,i);if(v.match){d.event=e.rewind,d.curPos=v.currentPos,d.prevPos=v.previousPos,d.p1=d.prevPos-d.curPos;break}if(-1===Ne.get(o).indexOf("{{nextTick}}")){var g=a.checkForward(o,i);if(g.match){d.event=e.forward,d.curPos=g.currentPos,d.prevPos=g.previousPos,d.p1=d.curPos-d.prevPos;break}}if(xe.state.status.current(o)===xe.states.paused){d.event=e.resume,d.assetId=xe.state.asset.current(o),d.contentType=xe.type.current(o),d.curPos=i;break}d.event=e.playhead,d.curPos=i}break;case"55":var _=B({data:o,param:B({data:o,param:"nol_timer"})})||B({data:o,param:"nol_fdoffset"});"daypart"===B({data:o,param:"nol_cadence"})&&(_=r(_,"num"),_+="nol_pcoffset"==B({data:o,param:"nol_timer"})?r(B({data:o,param:"nol_pcTimeCode"}),"num"):r(B({data:o,param:"nol_fdTimeCode"}),"num")),d.event=e.playhead;break;case"9":case"mute":d.event=e.mute,d.p1=i}}catch(e){t._listeners.fireEvent("error",{type:"error",msg:"Error in eventsController. Error inferring event - "+n})}return d}}.inferEvent}}(),Ve=function(e,t,a){var n={sendMaskedPing:function(r,o){e.lsReady()?t.contentWindow.postMessage(JSON.stringify({eventType:"maskref",data:{url:r}}),t.src):(o=o||0)<a.maxRetry&&setTimeout(function(){n.sendMaskedPing(r,o+1)},300)}};return{sendMaskedPing:n.sendMaskedPing}}(t,se,{maxRetry:_e});return Y.initFromConfig=function(a,n,r){t._listeners.fireEvent("info",{type:"info",msg:"Recieved config response."});try{if(a&&a.nol_GLOBALS){var o,s,l=Be(),d,p,u,m,f="localhost",v=a.nol_GLOBALS.debugSfcode||"uat-cert",g=a.nol_GLOBALS.nol_appid||"",_=a.nol_GLOBALS.nol_lsid||"",y=a.nol_GLOBALS.nol_emmURL||(a.nol_GLOBALS.nol_tagMap&&a.nol_GLOBALS.nol_tagMap.nol_defaults?a.nol_GLOBALS.nol_tagMap.nol_defaults.nol_emmURL:"")||"",h=a.nol_GLOBALS.nol_sessionIdUrl||"",P,S,T,O,L,b,C,E;if(""!==h&&Ae.setup({pingSendTime:"undefined",url:h}),r&&(t.optoutCookie&&"TOTAL"===t.optoutCookie&&"OPTOUT"!==t.localStorageId&&(_="OPTOUT",t._listeners.fireEvent("debug",{type:"debug",msg:'Optout cookie was set but lsid was "'+t.localStorageId+'". Setting lsid to OPTOUT'})),""===_&&("-1"===t.localStorageId?_="999":""===t.localStorageId?_=t.generateGUID():t.localStorageId&&(_=t.localStorageId))),t._listeners.fireEvent("debug",{type:"debug",msg:"Cached lsid: "+t.localStorageId+"; config lsid: "+_}),t._listeners.fireEvent("sendOptOutStatus","OPTOUT"==_),void 0!==a.nol_GLOBALS.nol_maxRetry&&null!==a.nol_GLOBALS.nol_maxRetry&&""!==a.nol_GLOBALS.nol_maxRetry){var w=parseInt(a.nol_GLOBALS.nol_maxRetry);w>-1&&(_e=w)}if(a&&a.hasOwnProperty("nol_GLOBALS")){var k=n||a.nol_GLOBALS.nol_playerId||0;if(!(s=t._players[k]))return;f=a.nol_GLOBALS.nol_sfcode||f,t._listeners.fireEvent("debug",{type:"debug",msg:'SDK instance "'+s.name+'" initialized with globals '+JSON.stringify(s.getConfigParams().ggParams)}),s.pauseObj={pauseTime:0,eventPauseTime:0,maxPauseTime:parseInt(a.nol_GLOBALS.nol_pauseTimeout)||1800,cmsPauseTime:parseInt(a.nol_GLOBALS.nol_pauseEventTimeoutPlayhead)||15},r&&(a.nol_GLOBALS.nol_serverTime=Be()/1e3>>0),E=t.localStorage?fe[k]?fe[k].nol_serverTime||t.localStorage.getItem("nol_serverTime"):t.localStorage.getItem("nol_serverTime")||0:fe[k]?fe[k].nol_serverTime:0,E===a.nol_GLOBALS.nol_serverTime?ve=fe[k]?fe[k].nolPriv_serverTimeOffset:a.nol_GLOBALS.nol_serverTime-Math.round(l/1e3):(ve=a.nol_GLOBALS.nol_serverTime-Math.round(l/1e3),t.localStorage&&t.localStorage.setItem("nol_serverTime",a.nol_GLOBALS.nol_serverTime)),ye=a.nol_GLOBALS.nol_errorWait||ye,o=s.getConfigParams().ggParams||{},fe[k]=i(fe[k]),fe[k].nolPriv_serverTimeOffset=ve,fe&&fe.hasOwnProperty(k)?fe[k].nol_nielsenAdSupportFlg=0:t._listeners.fireEvent("error",{type:"error",msg:"Error in initFromConfig. Invalid data object or playerId."}),Pe&&(e.clearInterval(Pe),Pe=0),a.nol_GLOBALS.nol_sendTimer&&(Pe=e.setInterval(function(){c({serverTimeOffset:fe[k].nolPriv_serverTimeOffset,url:"__sendIt"})},1e3*a.nol_GLOBALS.nol_sendTimer));for(d in o)o.hasOwnProperty(d)&&(fe[k][d]=o[d]);for(d in a.nol_GLOBALS)a.nol_GLOBALS.hasOwnProperty(d)&&(fe[k][d]=a.nol_GLOBALS[d]);we=fe[k].nol_eventFilter||{},ke=fe[k].nol_serviceFilter||{},Me=fe[k].nol_id3Map||{},Ee[k]=Ee[k]||{};for(d in fe[k].nol_clientCMSmap)fe[k].nol_clientCMSmap.hasOwnProperty(d)&&(S=fe[k].nol_clientCMSmap[d].toString()||"",T=S.replace(ue,""),L=S.match(ue)||[],O={clientField:T.toString(),encoding:L.join("")},Ee[k][d]=O);if(o&&o.hasOwnProperty("nol_override")&&Object.keys(o.nol_override).length>0)for(d in o.nol_override)o.nol_override[d].length>0&&(fe[k][d]=o.nol_override[d]);a.nol_GLOBALS.hasOwnProperty("nol_maxStaticInstances")&&$.hasOwnProperty("setTotalNumAssetsAllowed")&&$.setTotalNumAssetsAllowed(a.nol_GLOBALS.nol_maxStaticInstances),s.configLoaded=!0,r&&(fe[k].nol_prefProtocol=t.userAgent.isIOS()&&t.userAgent.iosVersion().major>=9?"https":0===re.indexOf("https")?"https":"http",fe[k].nol_playerId=k,fe[k].nol_nuid=_,fe[k].nol_lsid=_,fe[k].nol_bldv=ae,fe[k].nol_sdkv=s.sdkvForConfig,fe[k].nol_assetName=a.nol_GLOBALS.hasOwnProperty("nol_assetName")&&a.nol_GLOBALS.nol_assetName.length>0?a.nol_GLOBALS.nol_assetName:"defChnAsset",fe[k].nol_sfcode=o.sfcode,fe[k].nol_dcrsfcode=o.sfcode,fe[k].nol_apn=o.apn||(a.nol_GLOBALS.hasOwnProperty("nol_apn")&&a.nol_GLOBALS.nol_apn.length>0?a.nol_GLOBALS.nol_apn:""),fe[k].nol_nmspc="NOLBUNDLE"),fe[k].nol_lstrg="",fe[k].nol_userSessionId=s.sessionId,fe[k].nol_useroptout="",t.userAgent.isAndroid()?fe[k].nol_vriDeviceTypeId="0003":t.userAgent.isIOS()?fe[k].nol_vriDeviceTypeId="0002":fe[k].nol_vriDeviceTypeId="0001",_&&"999"!==_&&!t.userAgent.isFB()&&(fe[k].nol_lstrg="lstrg-"+_),t._listeners.fireEvent("debug",{type:"debug",msg:"Cached emm: "+t.EMMURL+"; config emm: "+y}),y=X(y,fe[k]),fe[k].nol_emmURL=y,t.setLsId(_,y,s.sessionId)}if(a&&a.hasOwnProperty("nol_TAGS"))for(fe[k].tagSize=a.nol_TAGS.length,fe[k].tags=[],t._listeners.fireEvent("debug",{type:"debug",msg:"NIELSEN TAGS EXPECTED TO FIRE:"}),d=0;d<fe[k].tagSize;d+=1)t._listeners.fireEvent("debug",{type:"debug",msg:String(a.nol_TAGS[d].nol_comment)}),fe[k].tags.push(new W(JSON.parse(JSON.stringify(a.nol_TAGS[d])),s));void 0!==t.enablePlayer&&t.enablePlayer(k,"PLDPR"),fe[k].bReInit=!1,o.nol_hybridCfg&&e&&e.JSON&&(P=e.document.createElement("script"),P.text="(function() {if (typeof "+o.nol_hybridCfg+" === 'function'){"+o.nol_hybridCfg+"('"+JSON.stringify(a)+"')}}())",e.document.head?(e.document.head.appendChild(P),e.document.head.removeChild(P)):(e.document.getElementsByTagName("head")[0].appendChild(P),e.document.getElementsByTagName("head")[0].removeChild(P))),fe[k].forceStreamRegen=!1,t._listeners.addListener("tick",function(){s&&s.hasOwnProperty("pauseObj")&&s.pauseObj.hasOwnProperty("pauseTime")&&(s.pauseObj.pauseTime+=1,s.pauseObj.eventPauseTime+=1)}),s&&s.configLoaded&&e.NOLBUNDLE&&e.NOLBUNDLE.controllers&&e.NOLBUNDLE.controllers.util&&e.NOLBUNDLE.controllers.util.fireCustomEvent&&e.NOLBUNDLE.controllers.util.fireCustomEvent("NSDK_Initialized",{instanceName:s.name,instance:s}),t._listeners.fireEvent("flushQueue")}else e.console&&e.console.warn&&e.console.warn("Warning: CMS config response is not valid. Please ensure NOL global parameter values are correct."),t._listeners.fireEvent("warn",{type:"warn",msg:"Warning in initFromConfig. NOL global parameters are not valid."})}catch(a){e.console&&e.console.error&&e.console.error("Error initializing CMS config response. Please ensure NOL global parameter values are correct."),t._listeners.fireEvent("error",{type:"error",msg:"Error in initFromConfig. Error parsing config response."})}},Y.getCmsMap=function(e){try{if(void 0!==e&&"string"==typeof e||t._listeners.fireEvent("error",{type:"error",msg:"Error in getCmsMap. PlayerID must be passed as string data type."}),fe&&fe.hasOwnProperty(e)&&void 0!==fe[e].nol_clientCMSmap)return fe[e].nol_clientCMSmap}catch(e){t._listeners.fireEvent("error",{type:"error",msg:"Error in getCmsMap."})}},Y.init=function(a){var n=a.getConfigParams()||{},r,o,i=t.getIfLsidShouldSend()?t.getLsId():void 0,s,l="",c=0===re.indexOf("https")?"https":"http";s={pli:{val:n.nol_playerId||0,protect:!0},nmspc:{val:"NOLBUNDLE",protect:!0},sdkv:{val:Z,protect:!0},fmt:{val:"jsonp",protect:!0},apn:{val:"Tester",protect:!1},fbtag:{val:"true",protect:!1},cfgv:{val:le,protect:!0},bldv:{val:ae,protect:!0},prefprotocol:{val:c,protect:!1}},a.addListener("ggPM",function(e){k(e)}),a.lsPopulatedInterval=0,a.lsCurrentRetry=0,a.serviceSending={tsv:!1,stn:!1},a.ottStatusObj={},a.oServiceCall={},a.static={started:!1};for(r in n.ggParams)!n.ggParams.hasOwnProperty(r)||s[r]&&s[r].protect||0==r.indexOf("nol_")||(s[r]={val:d(n.ggParams[r])});for(r in s)s.hasOwnProperty(r)&&(l+=r+"="+s[r].val+"&");l=l.substr(0,l.length-1),o=re.replace(/[\w\W]*?:\/\//g,""),a.useCachedConfig||(void 0===i||a.lsPopulatedInterval?void 0===i&&(Ce=c+"://"+o+ne+"cfg?"+l+"&sendTime="+Math.floor(Be()/1e3),H({configReq:Ce,player:a})):a.lsPopulatedInterval=e.setInterval(function(){i=t.getLsId(),"-1"!==i?(Ce=c+"://"+o+ne+"cfg?"+l+"&lsid="+i+"&sendTime="+Math.floor(Be()/1e3),H({configReq:Ce,player:a})):2===a.lsCurrentRetry?(Ce=c+"://"+o+ne+"cfg?"+l+"&lsid=999&sendTime="+Math.floor(Be()/1e3),H({configReq:Ce,player:a})):a.lsCurrentRetry+=1},1e3))},Y.built||(Y.built=!0,Y.BUILDVERSION=ae,Y.dataObj=fe,t.bindPlayers(Y,"PLDPR"),t._listeners.fireEvent("flushQueue")),Y}),e.NOLBUNDLE.registerLib("PLDCR",function(t){"use strict";function a(t,a){var n={};return n.set=function(e,t){return n.init=!0,n.elapsed=0,n.startTimeStamp=0,"function"==typeof e&&(n.funcCall=e),isNaN(t)||(n.intervalTime=t),n},n.play=function(e){return n.isActive||(e?(n.startTimeStamp=0,n.elapsed=0,n.setTimer()):n.setTimer(n.remaining),n.isActive=!0),n},n.pause=function(){return n.isActive&&(n.isActive=!1,n.remaining-=Date.now()-n.last,n.clearTimer()),n},n.stop=function(){return n.isActive=!1,n.remaining=n.intervalTime,n.clearTimer(),n},n.clearTimer=function(){e.clearTimeout(n.timeoutObject)},n.setTimer=function(t){var a=n;"function"==typeof n.funcCall&&(isNaN(t)&&(t=n.intervalTime),n.remaining=t,n.last=Date.now(),n.clearTimer(),n.timeoutObject=e.setTimeout(function(){a.tick()},t))},n.tick=function(){n.isActive&&(n.elapsed++,n.funcCall(),n.setTimer())},n.reset=function(){n.startTimeStamp=0,n.elapsed=0,n.remaining=n.intervalTime},n.init?n:(n.set(t,a),n)}function n(){l.dcrTimer&&(l.latestDcrTickVal=l.dcrTimer.elapsed,t._listeners.fireEvent("dcrHeartbeat",l.dcrTimer.elapsed))}function r(e){t.globalHasFocus&&!t.globalHasFocus()&&(t._listeners.fireEvent("info",{type:"info",msg:"Page onBlur fired and stopped static timer: "+JSON.stringify(e,function(e,t){if("string"==typeof t)return t})}),l.dcrTimer&&l.dcrTimer.pause())}function o(e){t._listeners.fireEvent("info",{type:"info",msg:"Page onFocus fired and playing static timer: "+JSON.stringify(e,function(e,t){if("string"==typeof t)return t})}),l.dcrTimer&&l.dcrTimer.play(l._reset),l._reset=!1}function i(e){!document.hidden&&t.globalHasFocus&&t.globalHasFocus()?(t._listeners.fireEvent("info",{type:"info",msg:"Page visibilityApi - VISIBLE"}),l.dcrTimer&&l.dcrTimer.play(l._reset),l._reset=!1):(t._listeners.fireEvent("info",{type:"info",msg:"Page visibilityApi - HIDDEN"}),l.dcrTimer&&l.dcrTimer.pause())}function s(e){l.dcrTimer&&l.dcrTimer.stop()}var l=t.PLDCR=t.PLDCR||{dcrTimer:void 0,startDcrTime:0,latestDcrTickVal:0,_reset:!1},d="6.0.0",c="1",p=e.NOLBUNDLE,u=t.getBaseBuildVer?t.getBaseBuildVer()+"1":"6.0.01";return l.startDcrTick=function(){},l.latestDcrTick=function(){return l.latestDcrTickVal},l.start=function(e){var r=!t.globalHasFocus||t.globalHasFocus();l._reset=e,(null===l.dcrTimer||void 0===l.dcrTimer||e)&&(r?(l.dcrTimer=a(n,1e3).play(!0),l._reset=!1):l.dcrTimer=a(n,1e3))},l.stop=function(){l.dcrTimer&&l.dcrTimer.stop()},l.init=function(t){p.browserSafeAddEventListener({element:e,eventType:"blur",func:r,useCapture:!1}),p.browserSafeAddEventListener({element:e,eventType:"focus",func:o,useCapture:!1}),p.browserSafeAddEventListener({element:e,eventType:"beforeunload",func:s,useCapture:!1}),p.browserSafeAddEventListener({element:e,eventType:"pagehide",func:s,useCapture:!1}),document.addEventListener&&document.addEventListener("visibilitychange",i)},l.built||(l.built=!0,l.BUILDVERSION=u,t.bindPlayers(l,"PLDCR")),l}),e.NOLBUNDLE.registerLib("PLLOG",function(t){"use strict";function a(e){if(e){var a=String(e).toUpperCase();if(f.hasOwnProperty(a))for(var n in f[a]){var r=String(n).toLowerCase();t._listeners.addListener(r,f[a][r])}}}function n(e){return e&&e.target&&e.target.hasOwnProperty("msg")?e.target.msg:""}function r(t){e.console&&console.info("Nielsen Log: Info - ",n(t))}function o(t){e.console&&console.log("Nielsen Log: Debug - ",n(t))}function i(t){e.console&&console.log("Nielsen Log: Logger - ",n(t))}function s(t){e.console&&console.warn("Nielsen Log: Warn - ",n(t))}function l(t){e.console&&console.error("Nielsen Log: Error - ",n(t))}var d=t.PLLOG=t.PLLOG||{},c=e.NOLBUNDLE,p="6.0.0",u="0",m=t.getBaseBuildVer?t.getBaseBuildVer()+"0":"6.0.0"+_localBuildVer,f={INFO:{info:r},DEBUG:{info:r,debug:o,warn:s,error:l},WARN:{info:r,warn:s},ERROR:{info:r,error:l},CONSOLE:{info:r},TRUE:{info:r},LOGGER:{logger:i}};return d.init=function(e){if(e&&e.getConfigParams){var t=e.getConfigParams();t.hasOwnProperty("ggParams")&&t.ggParams.hasOwnProperty("nol_sdkDebug")&&a(t.ggParams.nol_sdkDebug)}},d.built||(d.built=!0,d.BUILDVERSION=m,t.bindPlayers(d,"PLLOG")),d})):console&&console.warn&&console.warn("Warning: Your current browser environment does not sufficiently support ECMA5 standards. Nielsen SDK will not be initialized.")}catch(e){t("ERROR: "+e.message)}}(window);